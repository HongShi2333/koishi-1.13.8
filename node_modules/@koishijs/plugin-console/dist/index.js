import{useI18n as se,socket as Mt,useMenu as dt,useContext as me,useConfig as Be,useI18nText as Gn,store as Yt,router as Yn,root as ke,global as Lt,connect as Zn}from"./client.js";import{defineComponent as E,resolveComponent as D,openBlock as d,createElementBlock as _,createElementVNode as w,toDisplayString as j,unref as c,createVNode as V,withCtx as v,createBlock as L,createTextVNode as N,normalizeClass as B,renderSlot as O,withModifiers as fe,createCommentVNode as U,computed as A,useSlots as Xn,ref as R,Fragment as z,renderList as H,KeepAlive as Zt,resolveDynamicComponent as Ze,isRef as oe,getCurrentInstance as we,watch as le,mergeProps as pe,withDirectives as Ae,vShow as ft,normalizeStyle as Xe,createSlots as mt,vModelText as Qn,pushScopeId as Xt,popScopeId as Qt,warn as eo,inject as Ue,provide as en,Transition as tn,shallowReactive as to,onMounted as no,isVNode as nn,render as Dt,Text as oo,Comment as so,h as lo,normalizeProps as on,resolveDirective as io}from"./vue.js";import{useRoute as Pe,useRouter as ro}from"./vue-router.js";import{createReusableTemplate as sn,isClient as ln,useEventListener as lt,useResizeObserver as ao,useTimeoutFn as uo,useWindowSize as co}from"./vueuse.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const fo={title:"欢迎使用 Koishi！",description:"你的机器人已经准备就绪。点击下面的任一选项，开启你的 Koishi 之旅吧。",action:{docs:{title:"阅读文档",description:"开始阅读官方文档。官方文档里包含了你想要了解的全部内容。"},forum:{title:"前往论坛",description:"前往论坛与其他用户交流。如果你遇到了问题，可以在这里寻求帮助。"}}},mo={title:"Welcome to Koishi！",description:"Your chatbot is ready to go. 点击下面的任一选项，开启你的 Koishi 之旅吧。",action:{docs:{title:"Documentation",description:"The official documentation contains everything you want to know."},forum:{title:"Forum",description:"If you run into problems, you can always ask for help on the forum."}}},po={class:"k-card welcome"},ho={class:"choices"},vo={class:"choice",href:"https://koishi.chat",rel:"noopener noreferer",target:"_blank"},yo={class:"choice",href:"https://k.ilharp.cc",rel:"noopener noreferer",target:"_blank"},go=E({__name:"welcome",setup(e){const{t,setLocaleMessage:n}=se({messages:{"zh-CN":fo,"en-US":mo}});return(o,s)=>{const i=D("k-slot-item"),r=D("k-slot");return d(),_("div",po,[w("h1",null,j(c(t)("title")),1),w("p",null,j(c(t)("description")),1),w("div",ho,[V(r,{name:"welcome-choice"},{default:v(()=>[V(i,{order:1e3},{default:v(()=>[w("a",vo,[w("h2",null,j(c(t)("action.docs.title")),1),w("p",null,j(c(t)("action.docs.description")),1)])]),_:1}),V(i,{order:500},{default:v(()=>[w("a",yo,[w("h2",null,j(c(t)("action.forum.title")),1),w("p",null,j(c(t)("action.forum.description")),1)])]),_:1})]),_:1})])])}}});const _o={key:1},bo=E({__name:"home",setup(e){return(t,n)=>{const o=D("k-slot-item"),s=D("k-slot"),i=D("el-scrollbar"),r=D("k-card"),u=D("k-layout");return d(),L(u,{main:`darker page-home${c(Mt)?"":" loading"}`},{default:v(()=>[c(Mt)?(d(),L(i,{key:0},{default:v(()=>[V(s,{name:"home"},{default:v(()=>[V(o,{order:1e3},{default:v(()=>[V(go)]),_:1})]),_:1})]),_:1})):(d(),_("div",_o,[V(r,{class:"connect"},{default:v(()=>[N("正在连接到 Koishi 服务器……")]),_:1})]))]),_:1},8,["main"])}}});function $o(e){e.page({id:"home",path:"/",name:"欢迎",icon:"activity:home",order:1e3,component:bo})}const ko=w("div",{class:"icon"},[w("span"),w("span"),w("span")],-1),wo=[ko],Co={class:"left"},xo={class:"right"},Vo=E({__name:"header",props:{isLeftAsideOpen:{type:Boolean},isRightAsideOpen:{type:Boolean},menuKey:{},menuData:{}},emits:["update:isLeftAsideOpen","update:isRightAsideOpen"],setup(e){const n=dt(e.menuKey),o=Pe();return(s,i)=>{const r=D("k-icon");return d(),_("div",{class:B(["layout-header",{"has-menu":s.menuKey}])},[w("div",{class:"toggle-sidebar-button",role:"button",tabindex:"0",onClick:i[0]||(i[0]=u=>s.$emit("update:isLeftAsideOpen",!s.isLeftAsideOpen))},wo),w("div",Co,[O(s.$slots,"left",{},()=>[N(j(c(o).name),1)])]),w("div",xo,[O(s.$slots,"right")]),s.menuKey?(d(),_("div",{key:0,class:"toggle-menu-button",role:"button",tabindex:"1",onClick:i[1]||(i[1]=fe(u=>c(n)(u,s.menuData),["stop"]))},[V(r,{name:"ellipsis"})])):U("v-if",!0)],2)}}});const It=E({__name:"menu-item",props:{item:{},menuKey:{},menuData:{}},setup(e){const t=e,n=me(),o=A(()=>t.item.hidden?r(t.item.hidden):!1),s=A(()=>t.item.action?t.item.disabled?r(t.item.disabled):!1:!0),i=A(()=>n.$action.createScope({[t.menuKey]:t.menuData}));function r(y){return typeof y!="function"?y:y(i.value)}function u(){return t.item.action(i.value)}return(y,m)=>{const b=D("k-icon"),g=D("el-tooltip");return o.value?U("v-if",!0):(d(),L(g,{key:0,disabled:s.value,content:r(y.item.label),placement:"bottom"},{default:v(()=>[w("span",{class:B(["menu-item",[r(y.item.type),{disabled:s.value}]]),onClick:u},[V(b,{class:"menu-icon",name:r(y.item.icon)},null,8,["name"])],2)]),_:1},8,["disabled","content"]))}}}),So={class:"main-container"},Oo=E({__name:"layout",props:{main:{},left:{},right:{},container:{},menu:{},menuData:{}},setup(e){const t=Xn(),n=Pe(),o=me(),s=R(!1),i=R(!1),r=A(()=>({"has-left-aside":t.left,"has-right-aside":t.right,"is-left-aside-open":s.value,"is-right-aside-open":i.value}));return(u,y)=>(d(),_("div",{class:B(["layout-container",[u.container,r.value]])},[u.$slots.left?(d(),_("aside",{key:0,class:B(["layout-aside layout-left",u.left])},[O(u.$slots,"left")],2)):U("v-if",!0),w("div",So,[w("div",{class:"aside-mask",onClick:y[0]||(y[0]=m=>s.value=!s.value)}),V(Vo,{isLeftAsideOpen:s.value,"onUpdate:isLeftAsideOpen":y[1]||(y[1]=m=>s.value=m),isRightAsideOpen:i.value,"onUpdate:isRightAsideOpen":y[2]||(y[2]=m=>i.value=m),"menu-key":typeof u.menu=="string"?u.menu:null,"menu-data":u.menuData},{left:v(()=>[O(u.$slots,"header",{},()=>{var m;return[N(j((m=c(n).meta.activity)==null?void 0:m.name),1)]})]),right:v(()=>[O(u.$slots,"menu",{},()=>[typeof u.menu=="string"?(d(!0),_(z,{key:0},H(c(o).internal.menus[u.menu],m=>(d(),_(z,{key:u.menu},[m.id!=="@separator"?(d(),L(It,{key:0,item:{...m,...c(o).internal.actions[m.id.startsWith(".")?u.menu+m.id:m.id]},"menu-key":u.menu,"menu-data":u.menuData},null,8,["item","menu-key","menu-data"])):U("v-if",!0)],64))),128)):(d(!0),_(z,{key:1},H(u.menu,m=>(d(),L(It,{item:m},null,8,["item"]))),256))])]),_:3},8,["isLeftAsideOpen","isRightAsideOpen","menu-key","menu-data"]),w("main",{class:B(["layout-main",u.main])},[O(u.$slots,"default")],2)]),u.$slots.right?(d(),_("aside",{key:1,class:B(["layout-aside layout-right",u.right])},[O(u.$slots,"right")],2)):U("v-if",!0)],2))}});function Mo(e){e.slot({type:"layout",component:Oo,order:-1e3})}const Lo=E({__name:"settings",setup(e){const t=Pe(),n=ro(),o=Be(!0),s=me(),i=A(()=>Object.entries(s.internal.settings).map(([y,[{title:m}]])=>({id:y,label:m})));function r(y){y.children||(u.value=y.id)}const u=A({get(){var m;const y=(m=t.params.name)==null?void 0:m.toString();return y in s.internal.settings?y:""},set(y){y in s.internal.settings||(y=""),n.replace("/settings/"+y)}});return(y,m)=>{const b=D("el-tree"),g=D("el-scrollbar"),C=D("k-form"),h=D("k-content"),k=D("k-layout");return d(),L(k,{main:"page-settings"},{header:v(()=>{var $;return[N(j(($=c(s).internal.settings[u.value][0])==null?void 0:$.title),1)]}),left:v(()=>[V(g,null,{default:v(()=>[V(b,{ref:"tree",data:i.value,"default-expand-all":!0,onNodeClick:r},null,8,["data"])]),_:1})]),default:v(()=>[(d(),L(Zt,null,[(d(),L(h,{key:u.value},{default:v(()=>[(d(!0),_(z,null,H(c(s).internal.settings[u.value],$=>{var l;return d(),_(z,null,[(l=$.disabled)!=null&&l.call($)?(d(),_(z,{key:0},[],64)):$.component?(d(),L(Ze($.component),{key:1})):$.schema?(d(),L(C,{key:2,schema:$.schema,modelValue:c(o),"onUpdate:modelValue":m[0]||(m[0]=a=>oe(o)?o.value=a:null),initial:c(o)},null,8,["schema","modelValue","initial"])):U("v-if",!0)],64)}),256))]),_:1}))],1024))]),_:1})}}});var Do=Object.defineProperty,F=(e,t)=>Do(e,"name",{value:t,configurable:!0});function Io(){}F(Io,"noop");function Y(e){return e==null}F(Y,"isNullable");function qe(e){return e&&typeof e=="object"&&!Array.isArray(e)}F(qe,"isPlainObject");function rn(e,t){return Object.fromEntries(Object.entries(e).filter(([n,o])=>t(n,o)))}F(rn,"filterKeys");function ie(e,t){return Object.fromEntries(Object.entries(e).map(([n,o])=>[n,t(o,n)]))}F(ie,"mapValues");function an(e,t,n){if(!t)return{...e};const o={};for(const s of t)(n||e[s]!==void 0)&&(o[s]=e[s]);return o}F(an,"pick");function Ao(e,t){if(!t)return{...e};const n={...e};for(const o of t)Reflect.deleteProperty(n,o);return n}F(Ao,"omit");function zo(e,t,n){return Object.defineProperty(e,t,{writable:!0,value:n,enumerable:!1})}F(zo,"defineProperty");function jo(e,t){return t.every(n=>e.includes(n))}F(jo,"contain");function No(e,t){return e.filter(n=>t.includes(n))}F(No,"intersection");function un(e,t){return e.filter(n=>!t.includes(n))}F(un,"difference");function cn(e,t){return Array.from(new Set([...e,...t]))}F(cn,"union");function To(e){return[...new Set(e)]}F(To,"deduplicate");function Eo(e,t){const n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1}F(Eo,"remove");function Bo(e){return Array.isArray(e)?e:Y(e)?[]:[e]}F(Bo,"makeArray");function be(e,t){return arguments.length===1?n=>be(e,n):e in globalThis&&t instanceof globalThis[e]||Object.prototype.toString.call(t).slice(8,-1)===e}F(be,"is");function Fe(e){return be("ArrayBuffer",e)||be("SharedArrayBuffer",e)}F(Fe,"isArrayBufferLike");function dn(e){return Fe(e)||ArrayBuffer.isView(e)}F(dn,"isArrayBufferSource");var Me;(e=>{e.is=Fe,e.isSource=dn;function t(r){return ArrayBuffer.isView(r)?r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength):r}e.fromSource=t,F(t,"fromSource");function n(r){if(typeof Buffer<"u")return Buffer.from(r).toString("base64");let u="";const y=new Uint8Array(r);for(let m=0;m<y.byteLength;m++)u+=String.fromCharCode(y[m]);return btoa(u)}e.toBase64=n,F(n,"toBase64");function o(r){return typeof Buffer<"u"?t(Buffer.from(r,"base64")):Uint8Array.from(atob(r),u=>u.charCodeAt(0))}e.fromBase64=o,F(o,"fromBase64");function s(r){return typeof Buffer<"u"?Buffer.from(r).toString("hex"):Array.from(new Uint8Array(r),u=>u.toString(16).padStart(2,"0")).join("")}e.toHex=s,F(s,"toHex");function i(r){if(typeof Buffer<"u")return t(Buffer.from(r,"hex"));const u=r.length%2===0?r:r.slice(0,r.length-1),y=[];for(let m=0;m<u.length;m+=2)y.push(parseInt(`${u[m]}${u[m+1]}`,16));return Uint8Array.from(y).buffer}e.fromHex=i,F(i,"fromHex")})(Me||(Me={}));Me.fromBase64;Me.toBase64;Me.fromHex;Me.toHex;function xe(e){return!e||typeof e!="object"?e:Array.isArray(e)?e.map(xe):be("Date",e)?new Date(e.valueOf()):be("RegExp",e)?new RegExp(e.source,e.flags):Fe(e)?e.slice(0):ArrayBuffer.isView(e)?e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):ie(e,xe)}F(xe,"clone");function $e(e,t,n){if(e===t||!n&&Y(e)&&Y(t))return!0;if(typeof e!=typeof t||typeof e!="object"||!e||!t)return!1;function o(s,i){return s(e)?s(t)?i(e,t):!1:s(t)?!1:void 0}return F(o,"check"),o(Array.isArray,(s,i)=>s.length===i.length&&s.every((r,u)=>$e(r,i[u])))??o(be("Date"),(s,i)=>s.valueOf()===i.valueOf())??o(be("RegExp"),(s,i)=>s.source===i.source&&s.flags===i.flags)??o(Fe,(s,i)=>{if(s.byteLength!==i.byteLength)return!1;const r=new Uint8Array(s),u=new Uint8Array(i);for(let y=0;y<r.length;y++)if(r[y]!==u[y])return!1;return!0})??Object.keys({...e,...t}).every(s=>$e(e[s],t[s],n))}F($e,"deepEqual");function Uo(e){return e.charAt(0).toUpperCase()+e.slice(1)}F(Uo,"capitalize");function pt(e){return e.charAt(0).toLowerCase()+e.slice(1)}F(pt,"uncapitalize");function Po(e){return e.replace(/[_-][a-z]/g,t=>t.slice(1).toUpperCase())}F(Po,"camelCase");function Fo(e){return pt(e).replace(/_/g,"-").replace(/.[A-Z]+/g,t=>t[0]+"-"+t.slice(1).toLowerCase())}F(Fo,"paramCase");function Ho(e){return pt(e).replace(/-/g,"_").replace(/.[A-Z]+/g,t=>t[0]+"_"+t.slice(1).toLowerCase())}F(Ho,"snakeCase");function fn(e){return e.replace(/\/$/,"")}F(fn,"trimSlash");function Ro(e){return e.startsWith("/")||(e="/"+e),fn(e)}F(Ro,"sanitize");var At;(e=>{e.millisecond=1,e.second=1e3,e.minute=e.second*60,e.hour=e.minute*60,e.day=e.hour*24,e.week=e.day*7;let t=new Date().getTimezoneOffset();function n(h){t=h}e.setTimezoneOffset=n,F(n,"setTimezoneOffset");function o(){return t}e.getTimezoneOffset=o,F(o,"getTimezoneOffset");function s(h=new Date,k){return typeof h=="number"&&(h=new Date(h)),k===void 0&&(k=t),Math.floor((h.valueOf()/e.minute-k)/1440)}e.getDateNumber=s,F(s,"getDateNumber");function i(h,k){const $=new Date(h*e.day);return k===void 0&&(k=t),new Date(+$+k*e.minute)}e.fromDateNumber=i,F(i,"fromDateNumber");const r=/\d+(?:\.\d+)?/.source,u=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(h=>`(${r}${h})?`).join("")}$`);function y(h){const k=u.exec(h);return k?(parseFloat(k[1])*e.week||0)+(parseFloat(k[2])*e.day||0)+(parseFloat(k[3])*e.hour||0)+(parseFloat(k[4])*e.minute||0)+(parseFloat(k[5])*e.second||0):0}e.parseTime=y,F(y,"parseTime");function m(h){const k=y(h);return k?h=Date.now()+k:/^\d{1,2}(:\d{1,2}){1,2}$/.test(h)?h=`${new Date().toLocaleDateString()}-${h}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(h)&&(h=`${new Date().getFullYear()}-${h}`),h?new Date(h):new Date}e.parseDate=m,F(m,"parseDate");function b(h){const k=Math.abs(h);return k>=e.day-e.hour/2?Math.round(h/e.day)+"d":k>=e.hour-e.minute/2?Math.round(h/e.hour)+"h":k>=e.minute-e.second/2?Math.round(h/e.minute)+"m":k>=e.second?Math.round(h/e.second)+"s":h+"ms"}e.format=b,F(b,"format");function g(h,k=2){return h.toString().padStart(k,"0")}e.toDigits=g,F(g,"toDigits");function C(h,k=new Date){return h.replace("yyyy",k.getFullYear().toString()).replace("yy",k.getFullYear().toString().slice(2)).replace("MM",g(k.getMonth()+1)).replace("dd",g(k.getDate())).replace("hh",g(k.getHours())).replace("mm",g(k.getMinutes())).replace("ss",g(k.getSeconds())).replace("SSS",g(k.getMilliseconds(),3))}e.template=C,F(C,"template")})(At||(At={}));var Ko=Object.defineProperty,qo=Object.getOwnPropertyNames,J=(e,t)=>Ko(e,"name",{value:t,configurable:!0}),Jo=(e,t)=>function(){return t||(0,e[qo(e)[0]])((t={exports:{}}).exports,t),t.exports},Wo=Jo({"src/index.ts"(e,t){var n=Symbol.for("schemastery");globalThis.__schemastery_index__??(globalThis.__schemastery_index__=0);var o=J(function(l){const a=J(function(f,p){return o.resolve(f,a,p)[0]},"schema");if(l.refs){const f=ie(l.refs,x=>new o(x)),p=J(x=>f[x],"getRef");for(const x in f){const S=f[x];S.sKey=p(S.sKey),S.inner=p(S.inner),S.list=S.list&&S.list.map(p),S.dict=S.dict&&ie(S.dict,p)}return f[l.uid]}if(Object.assign(a,l),typeof a.callback=="string")try{a.callback=new Function("return "+a.callback)()}catch{}return Object.defineProperty(a,"uid",{value:globalThis.__schemastery_index__++}),Object.setPrototypeOf(a,o.prototype),a.meta||(a.meta={}),a.toString=a.toString.bind(a),a},"Schema");o.prototype=Object.create(Function.prototype),o.prototype[n]=!0;var s;o.prototype.toJSON=J(function(){var f;if(s)return s[f=this.uid]??(s[f]=JSON.parse(JSON.stringify({...this}))),this.uid;s={[this.uid]:{...this}},s[this.uid]=JSON.parse(JSON.stringify({...this}));const a={uid:this.uid,refs:s};return s=void 0,a},"toJSON"),o.prototype.set=J(function(a,f){return this.dict[a]=f,this},"set"),o.prototype.push=J(function(a){return this.list.push(a),this},"push");function i(l,a){const f=typeof l=="string"?{"":l}:{...l};for(const p in a){const x=a[p];x!=null&&x.$description||x!=null&&x.$desc?f[p]=x.$description||x.$desc:typeof x=="string"&&(f[p]=x)}return f}J(i,"mergeDesc");function r(l){return(l==null?void 0:l.$value)??(l==null?void 0:l.$inner)}J(r,"getInner");function u(l){return rn(l??{},a=>!a.startsWith("$"))}J(u,"extractKeys"),o.prototype.i18n=J(function(a){const f=o(this);return f.meta.description=i(f.meta.description,a),f.dict&&(f.dict=ie(f.dict,(p,x)=>p.i18n(ie(a,S=>{var T;return((T=r(S))==null?void 0:T[x])??(S==null?void 0:S[x])})))),f.list&&(f.list=f.list.map((p,x)=>p.i18n(ie(a,(S={})=>Array.isArray(r(S))?r(S)[x]:Array.isArray(S)?S[x]:u(S))))),f.inner&&(f.inner=f.inner.i18n(ie(a,p=>r(p)?r(p):u(p)))),f.sKey&&(f.sKey=f.sKey.i18n(ie(a,p=>p==null?void 0:p.$key))),f},"i18n"),o.prototype.extra=J(function(a,f){const p=o(this);return p.meta={...p.meta,[a]:f},p},"extra");for(const l of["required","disabled","collapse","hidden","loose"])Object.assign(o.prototype,{[l](a=!0){const f=o(this);return f.meta={...f.meta,[l]:a},f}});o.prototype.deprecated=J(function(){var f;const a=o(this);return(f=a.meta).badges||(f.badges=[]),a.meta.badges.push({text:"deprecated",type:"danger"}),a},"deprecated"),o.prototype.experimental=J(function(){var f;const a=o(this);return(f=a.meta).badges||(f.badges=[]),a.meta.badges.push({text:"experimental",type:"warning"}),a},"experimental"),o.prototype.pattern=J(function(a){const f=o(this),p=an(a,["source","flags"]);return f.meta={...f.meta,pattern:p},f},"pattern"),o.prototype.simplify=J(function(a){if($e(a,this.meta.default))return null;if(Y(a))return a;if(this.type==="object"||this.type==="dict"){const f={};for(const p in a){const x=this.type==="object"?this.dict[p]:this.inner,S=x==null?void 0:x.simplify(a[p]);(this.type==="dict"||!Y(S))&&(f[p]=S)}return f}else if(this.type==="array"||this.type==="tuple"){const f=[];return a.forEach((p,x)=>{const S=this.type==="array"?this.inner:this.list[x],T=S?S.simplify(p):p;f.push(T)}),f}else if(this.type==="intersect"){const f={};for(const p of this.list)Object.assign(f,p.simplify(a));return f}else if(this.type==="union")for(const f of this.list)try{return o.resolve(a,f),f.simplify(a)}catch{}return a},"simplify"),o.prototype.toString=J(function(a){var f;return((f=k[this.type])==null?void 0:f.call(k,this,a))??`Schema<${this.type}>`},"toString"),o.prototype.role=J(function(l,a){const f=o(this);return f.meta={...f.meta,role:l,extra:a},f},"role");for(const l of["default","link","comment","description","max","min","step"])Object.assign(o.prototype,{[l](a){const f=o(this);return f.meta={...f.meta,[l]:a},f}});var y={};o.extend=J(function(a,f){y[a]=f},"extend"),o.resolve=J(function(a,f,p={},x=!1){if(!f)return[a];if(Y(a)){if(f.meta.required)throw new TypeError("missing required value");let T=f,I=f.meta.default;for(;(T==null?void 0:T.type)==="intersect"&&Y(I);)T=T.list[0],I=T==null?void 0:T.meta.default;if(Y(I))return[a];a=xe(I)}const S=y[f.type];if(!S)throw new TypeError(`unsupported type "${f.type}"`);try{return S(a,f,p,x)}catch(T){if(!f.meta.loose)throw T;return[f.meta.default]}},"resolve"),o.from=J(function(a){if(Y(a))return o.any();if(["string","number","boolean"].includes(typeof a))return o.const(a).required();if(a[n])return a;if(typeof a=="function")switch(a){case String:return o.string().required();case Number:return o.number().required();case Boolean:return o.boolean().required();case Function:return o.function().required();default:return o.is(a).required()}else throw new TypeError(`cannot infer schema from ${a}`)},"from"),o.natural=J(function(){return o.number().step(1).min(0)},"natural"),o.percent=J(function(){return o.number().step(.01).min(0).max(1).role("slider")},"percent"),o.date=J(function(){return o.union([o.is(Date),o.transform(o.string().role("datetime"),a=>{const f=new Date(a);if(isNaN(+f))throw new TypeError(`invalid date "${a}"`);return f},!0)])},"date"),o.extend("any",l=>[l]),o.extend("never",l=>{throw new TypeError(`expected nullable but got ${l}`)}),o.extend("const",(l,{value:a})=>{if(l===a)return[a];throw new TypeError(`expected ${a} but got ${l}`)});function m(l,a,f,p=!1){const{max:x=1/0,min:S=-1/0}=a;if(l>x)throw new TypeError(`expected ${f} <= ${x} but got ${l}`);if(l<S&&!p)throw new TypeError(`expected ${f} >= ${S} but got ${l}`)}J(m,"checkWithinRange"),o.extend("string",(l,{meta:a})=>{if(typeof l!="string")throw new TypeError(`expected string but got ${l}`);if(a.pattern){const f=new RegExp(a.pattern.source,a.pattern.flags);if(!f.test(l))throw new TypeError(`expect string to match regexp ${f}`)}return m(l.length,a,"string length"),[l]});function b(l,a){const f=l.toString();if(f.includes("e"))return l*Math.pow(10,a);const p=f.indexOf(".");if(p===-1)return l*Math.pow(10,a);const x=f.slice(p+1),S=f.slice(0,p);return x.length<=a?+(S+x.padEnd(a,"0")):+(S+x.slice(0,a)+"."+x.slice(a))}J(b,"decimalShift");function g(l,a,f){if(f=Math.abs(f),!/^\d+\.\d+$/.test(f.toString()))return(l-a)%f===0;const p=f.toString().indexOf("."),x=f.toString().slice(p+1).length;return Math.abs(b(l,x)-b(a,x))%b(f,x)===0}J(g,"isMultipleOf"),o.extend("number",(l,{meta:a})=>{if(typeof l!="number")throw new TypeError(`expected number but got ${l}`);m(l,a,"number");const{step:f}=a;if(f&&!g(l,a.min??0,f))throw new TypeError(`expected number multiple of ${f} but got ${l}`);return[l]}),o.extend("boolean",l=>{if(typeof l=="boolean")return[l];throw new TypeError(`expected boolean but got ${l}`)}),o.extend("bitset",(l,{bits:a,meta:f})=>{let p=0,x=[];if(typeof l=="number"){p=l;for(const S in a)l&a[S]&&x.push(S)}else if(Array.isArray(l)){x=l;for(const S of x){if(typeof S!="string")throw new TypeError(`expected string but got ${S}`);S in a&&(p|=a[S])}}else throw new TypeError(`expected number or array but got ${l}`);return p===f.default?[p]:[p,x]}),o.extend("function",l=>{if(typeof l=="function")return[l];throw new TypeError(`expected function but got ${l}`)}),o.extend("is",(l,{callback:a})=>{if(l instanceof a)return[l];throw new TypeError(`expected ${a.name} but got ${l}`)});function C(l,a,f,p){try{const[x,S]=o.resolve(l[a],f,p);return S!==void 0&&(l[a]=S),x}catch(x){if(!(p!=null&&p.autofix))throw x;return delete l[a],f.meta.default}}J(C,"property"),o.extend("array",(l,{inner:a,meta:f},p)=>{if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);return m(l.length,f,"array length",!Y(a.meta.default)),[l.map((x,S)=>C(l,S,a,p))]}),o.extend("dict",(l,{inner:a,sKey:f},p,x)=>{if(!qe(l))throw new TypeError(`expected object but got ${l}`);const S={};for(const T in l){let I;try{I=o.resolve(T,f)[0]}catch(P){if(x)continue;throw P}S[I]=C(l,T,a,p),l[I]=l[T],T!==I&&delete l[T]}return[S]}),o.extend("tuple",(l,{list:a},f,p)=>{if(!Array.isArray(l))throw new TypeError(`expected array but got ${l}`);const x=a.map((S,T)=>C(l,T,S,f));return p?[x]:(x.push(...l.slice(a.length)),[x])});function h(l,a){for(const f in a)f in l||(l[f]=a[f])}J(h,"merge"),o.extend("object",(l,{dict:a},f,p)=>{if(!qe(l))throw new TypeError(`expected object but got ${l}`);const x={};for(const S in a){const T=C(l,S,a[S],f);(!Y(T)||S in l)&&(x[S]=T)}return p||h(x,l),[x]}),o.extend("union",(l,{list:a,toString:f},p,x)=>{for(const S of a)try{return o.resolve(l,S,p,x)}catch{}throw new TypeError(`expected ${f()} but got ${JSON.stringify(l)}`)}),o.extend("intersect",(l,{list:a,toString:f},p,x)=>{let S;for(const T of a){const I=o.resolve(l,T,p,!0)[0];if(!Y(I))if(Y(S))S=I;else{if(typeof S!=typeof I)throw new TypeError(`expected ${f()} but got ${JSON.stringify(l)}`);if(typeof I=="object")h(S??(S={}),I);else if(S!==I)throw new TypeError(`expected ${f()} but got ${JSON.stringify(l)}`)}}return!x&&qe(l)&&h(S,l),[S]}),o.extend("transform",(l,{inner:a,callback:f,preserve:p},x)=>{const[S,T=l]=o.resolve(l,a,x,!0);return p?[f(S)]:[f(S),f(T)]});var k={};function $(l,a,f){k[l]=f,Object.assign(o,{[l](...p){const x=new o({type:l});return a.forEach((S,T)=>{var I;switch(S){case"sKey":x.sKey=p[T]??o.string();break;case"inner":x.inner=o.from(p[T]);break;case"list":x.list=p[T].map(o.from);break;case"dict":x.dict=ie(p[T],o.from);break;case"bits":{x.bits={};for(const P in p[T])typeof p[T][P]=="number"&&(x.bits[P]=p[T][P]);break}case"callback":{x.callback=p[T],(I=x.callback).toJSON||(I.toJSON=()=>x.callback.toString());break}default:x[S]=p[T]}}),l==="object"||l==="dict"?x.meta.default={}:l==="array"||l==="tuple"?x.meta.default=[]:l==="bitset"&&(x.meta.default=0),x}})}J($,"defineMethod"),$("is",["callback"],({callback:l})=>l.name),$("any",[],()=>"any"),$("never",[],()=>"never"),$("const",["value"],({value:l})=>typeof l=="string"?JSON.stringify(l):l),$("string",[],()=>"string"),$("number",[],()=>"number"),$("boolean",[],()=>"boolean"),$("bitset",["bits"],()=>"bitset"),$("function",[],()=>"function"),$("array",["inner"],({inner:l})=>`${l.toString(!0)}[]`),$("dict",["inner","sKey"],({inner:l,sKey:a})=>`{ [key: ${a.toString()}]: ${l.toString()} }`),$("tuple",["list"],({list:l})=>`[${l.map(a=>a.toString()).join(", ")}]`),$("object",["dict"],({dict:l})=>Object.keys(l).length===0?"{}":`{ ${Object.entries(l).map(([a,f])=>`${a}${f.meta.required?"":"?"}: ${f.toString()}`).join(", ")} }`),$("union",["list"],({list:l},a)=>{const f=l.map(({toString:p})=>p()).join(" | ");return a?`(${f})`:f}),$("intersect",["list"],({list:l})=>`${l.map(a=>a.toString(!0)).join(" & ")}`),$("transform",["inner","callback","preserve"],({inner:l},a)=>l.toString(a)),t.exports=o}});const Le=Wo();/*!
  * shared v9.10.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */let zt;const nt=()=>zt||(zt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Je=Array.isArray,it=e=>typeof e=="string",Go=e=>typeof e=="boolean",Yo=e=>e!==null&&typeof e=="object",mn=e=>{if(!Yo(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object};/*!
  * core-base v9.10.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Zo(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(nt().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(nt().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(nt().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Xo(e,t,n){const o=it(n)?n:ts,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(o);if(!i){i=[];let r=[n];for(;Je(r);)r=jt(i,r,t);const u=Je(t)||!mn(t)?t:t.default?t.default:null;r=it(u)?[u]:u,Je(r)&&jt(i,r,!1),s.__localeChainCache.set(o,i)}return i}function jt(e,t,n){let o=!0;for(let s=0;s<t.length&&Go(o);s++){const i=t[s];it(i)&&(o=Qo(e,t[s],n))}return o}function Qo(e,t,n){let o;const s=t.split("-");do{const i=s.join("-");o=es(e,i,n),s.splice(-1,1)}while(s.length&&o===!0);return o}function es(e,t,n){let o=!1;if(!e.includes(t)&&(o=!0,t)){o=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Je(n)||mn(n))&&n[s]&&(o=n[s])}return o}const ts="en-US";Zo();const pn=new Set;function he(){const e=se(),t={};return n=>{if(!n||typeof n=="string")return n;const o=Xo(t,e.fallbackLocale.value,e.locale.value);for(const s of o)if(s in n)return n[s]}}const ns=["function","transform","is"];function He(e){const t=[],n=e.list.filter(o=>{if(!o.meta.hidden)return o.type==="transform"&&t.push(o.inner),!ns.includes(o.type)});return n.length?n:t}function Ne(e,t=!1){if(!(!e||e.type==="union"&&He(e).length===1))return xe(e.meta.default)??(t?os(e):void 0)}function os(e){if(e.type==="string")return"";if(e.type==="number")return 0;if(e.type==="boolean")return!1;if(["dict","object","intersect"].includes(e.type))return{}}function ve(e){return e.type==="const"?e:e.type==="transform"?ve(e.inner):(e=new Le(e).required(!1),e.type==="object"?e.dict=ie(e.dict,ve):e.type==="tuple"||e.type==="intersect"||e.type==="union"?e.list=e.list.map(ve):(e.type==="dict"||e.type==="array")&&(e.inner=ve(e.inner)),e)}function ss(e,t){try{return ve(e)(t),!0}catch{return!1}}function rt(e,t){if(!Y(t)&&e.type==="string"&&e.meta.pattern){const{source:n,flags:o}=e.meta.pattern,s=new RegExp(n,o);if(!s.test(t))return["errors.regexp-not-matched",[s.toString()]]}}function ls(){const{props:e}=we();return A(()=>{var t,n;return e.disabled||((n=(t=e.schema)==null?void 0:t.meta)==null?void 0:n.disabled)})}function ye(e){let t;const n=R(),{props:o,emit:s}=we(),i=()=>le(n,r=>{try{e!=null&&e.output&&(r=e.output(r));const u=ve(Le(o.schema));$e(u(r),o.schema.meta.default,e==null?void 0:e.strict)&&(r=null)}catch{return}s("update:modelValue",r)},{deep:!0});return le(()=>[o.modelValue,o.schema],([r,u])=>{t==null||t(),r??(r=Ne(u)),e!=null&&e.input&&(r=e.input(r)),n.value=r,t=i()},{deep:!0,immediate:!0}),n}function ht(){const{props:e}=we(),t=ye({strict:!0,input:r=>{const u=Object.entries(r);if(e.schema.type==="array"){const y=(e.schema.meta.min??0)-u.length;for(let m=0;m<y;m++)u.push([""+u.length,null])}return u},output:r=>{if(e.schema.type==="array")return r.map(([,y])=>y);const u={};for(const[y,m]of r){if(y in u)throw new Error("duplicate entries");u[y]=m}return u}}),n=A(()=>e.schema.meta.min&&e.schema.meta.min===e.schema.meta.max),o=A(()=>t.value.length>=e.schema.meta.max),s=A(()=>t.value.length>=e.schema.meta.max),i=()=>{if(e.schema.type==="array")for(let r=0;r<t.value.length;r++)t.value[r][0]=""+r};return{entries:t,isMax:o,isMin:s,isFixedLength:n,up(r){if(e.schema.type==="dict")t.value.splice(r-1,0,...t.value.splice(r,1));else{const u=t.value[r][1];t.value[r][1]=t.value[r-1][1],t.value[r-1][1]=u}i()},down(r){if(e.schema.type==="dict")t.value.splice(r+1,0,...t.value.splice(r,1));else{const u=t.value[r][1];t.value[r][1]=t.value[r+1][1],t.value[r+1][1]=u}i()},del(r){t.value.splice(r,1),i()},insert(r){t.value.splice(r,0,["",null]),i()}}}function hn(e){return e.type==="union"&&e.list.every(t=>t.type==="const")}function at(e){if(e.type==="bitset")return!0;if(e.type==="array")return hn(e.inner)}function vt(){const{props:e}=we(),t=A(()=>{if(e.schema.type==="bitset")return Object.keys(e.schema.bits);if(e.schema.type==="array")return e.schema.inner.list.map(s=>s.value)}),n=A(()=>{if(e.schema.type==="bitset")return Object.keys(e.schema.bits).map(s=>Le.const(s));if(e.schema.type==="array")return e.schema.inner.list}),o=ye({input(s){return at(e.schema)?Y(s)?[]:Array.isArray(s)?s:Object.entries(e.schema.bits).filter(([i,r])=>s&r).map(([i])=>i):s},output(s){return at(e.schema)?s.sort((i,r)=>{const u=t.value.indexOf(i),y=t.value.indexOf(r);return u<0?y<0?0:1:y<0?-1:u-y}):s}});return{values:o,items:n,selectAll(){o.value=cn(o.value,t.value)},selectNone(){o.value=un(o.value,t.value)},toggle(s){o.value.includes(s)?o.value=o.value.filter(i=>i!==s):o.value=[...o.value,s]}}}function vn(e){return["string","number","boolean"].includes(e.type)||hn(e)||at(e)}function Nt(e){if(e=e.filter(([,t])=>!t.meta.hidden),e.every(([,t])=>vn(t)))return e}function yt(e){if(vn(e))return[[null,e]];if(e.type==="tuple")return Nt(Object.entries(e.list));if(e.type==="object")return Nt(Object.entries(e.dict))}const Z=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},is={},rs={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},as=w("path",{fill:"currentColor",d:"M377.4 296.6l-168 176C204.8 477.3 198.6 480 192 480s-12.84-2.688-17.38-7.438l-168-176C-2.5 286.1-2.156 271.8 7.438 262.6c9.5-9.156 24.75-8.812 33.94 .8125L168 396.1V56.02c0-13.25 10.75-24.01 23.1-24.01S216 42.77 216 56.02v340.1l126.6-132.7c9.156-9.625 24.41-9.969 33.94-.8125C386.2 271.8 386.5 286.1 377.4 296.6z"},null,-1),us=[as];function cs(e,t){return d(),_("svg",rs,us)}const gt=Z(is,[["render",cs]]),ds={},fs={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},ms=w("path",{fill:"currentColor",d:"M6.625 215.5l168-176C179.2 34.7 185.4 32.02 192 32.02s12.84 2.688 17.38 7.438l168 176c9.125 9.594 8.781 24.78-.8125 33.94c-9.5 9.156-24.75 8.812-33.94-.8125L216 115.9V456c0 13.25-10.75 23.1-23.1 23.1S168 469.3 168 456V115.9l-126.6 132.7C32.22 258.2 16.97 258.5 7.438 249.4C-2.156 240.2-2.5 225 6.625 215.5z"},null,-1),ps=[ms];function hs(e,t){return d(),_("svg",fs,ps)}const _t=Z(ds,[["render",hs]]),vs={},ys={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},gs=w("path",{fill:"currentColor",d:"M160 80C160 115.8 136.5 146.1 104 156.3V255.1C124.1 240.9 148.1 232 176 232H272C311.8 232 344 199.8 344 160V156.3C311.5 146.1 288 115.8 288 80C288 35.82 323.8 0 368 0C412.2 0 448 35.82 448 80C448 115.8 424.5 146.1 392 156.3V160C392 226.3 338.3 280 272 280H176C136.2 280 104 312.2 104 352V355.7C136.5 365.9 160 396.2 160 432C160 476.2 124.2 512 80 512C35.82 512 0 476.2 0 432C0 396.2 23.54 365.9 56 355.7V156.3C23.54 146.1 0 115.8 0 80C0 35.82 35.82 0 80 0C124.2 0 160 35.82 160 80V80zM80 112C97.67 112 112 97.67 112 80C112 62.33 97.67 48 80 48C62.33 48 48 62.33 48 80C48 97.67 62.33 112 80 112zM368 48C350.3 48 336 62.33 336 80C336 97.67 350.3 112 368 112C385.7 112 400 97.67 400 80C400 62.33 385.7 48 368 48zM80 464C97.67 464 112 449.7 112 432C112 414.3 97.67 400 80 400C62.33 400 48 414.3 48 432C48 449.7 62.33 464 80 464z"},null,-1),_s=[gs];function bs(e,t){return d(),_("svg",ys,_s)}const $s=Z(vs,[["render",bs]]),ks={},ws={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},Cs=w("path",{fill:"currentColor",d:"M414.9 31.11L270.9 495.1C266.1 507.8 253.5 514.8 240.9 510.9C228.2 506.1 221.1 493.5 225.1 480.9L369.1 16.89C373 4.226 386.5-2.852 399.1 1.077C411.8 5.006 418.9 18.45 414.9 31.11V31.11zM504.4 118.5L632.4 238.5C637.3 243 640 249.4 640 255.1C640 262.6 637.3 268.1 632.4 273.5L504.4 393.5C494.7 402.6 479.6 402.1 470.5 392.4C461.4 382.7 461.9 367.6 471.6 358.5L580.9 255.1L471.6 153.5C461.9 144.4 461.4 129.3 470.5 119.6C479.6 109.9 494.7 109.4 504.4 118.5V118.5zM168.4 153.5L59.09 255.1L168.4 358.5C178.1 367.6 178.6 382.7 169.5 392.4C160.4 402.1 145.3 402.6 135.6 393.5L7.585 273.5C2.746 268.1 0 262.6 0 255.1C0 249.4 2.746 243 7.585 238.5L135.6 118.5C145.3 109.4 160.4 109.9 169.5 119.6C178.6 129.3 178.1 144.4 168.4 153.5V153.5z"},null,-1),xs=[Cs];function Vs(e,t){return d(),_("svg",ws,xs)}const Ss=Z(ks,[["render",Vs]]),Os={},Ms={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Ls=w("path",{fill:"currentColor",d:"M207 184.1C209.6 187.5 215.5 192 224 192s14.4-4.461 16.97-7.031l72-72C317.7 108.3 320 102.1 320 96c0-13.71-11.21-24-24-24c-6.141 0-12.28 2.344-16.97 7.031L248 110.1V24C248 10.75 237.3 0 224 0S200 10.75 200 24v86.06L168.1 79.03C164.3 74.34 158.1 72 152 72C138.3 72 128 83.21 128 96c0 6.141 2.344 12.28 7.031 16.97L207 184.1zM240.1 327C234.9 321 227.7 320 224 320c-3.682 0-10.94 .9906-16.97 7.022l-72 72C130.3 403.7 128 409.9 128 416c0 13.71 11.21 24 24 24c6.141 0 12.28-2.344 16.97-7.031L200 401.9V488C200 501.3 210.8 512 224 512s24-10.75 24-24v-86.06l31.03 31.03C283.7 437.7 289.8 440 296 440c18.79 0 24-17.2 24-24c0-6.141-2.344-12.28-7.031-16.97L240.1 327zM424 232H24C10.75 232 0 242.7 0 255.1S10.75 280 24 280h400c13.25 0 24-10.76 24-24.01S437.3 232 424 232z"},null,-1),Ds=[Ls];function Is(e,t){return d(),_("svg",Ms,Ds)}const As=Z(Os,[["render",Is]]),zs={},js={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Ns=w("path",{fill:"currentColor",d:"M160 400C160 408.8 152.8 416 144 416C135.2 416 128 408.8 128 400V192C128 183.2 135.2 176 144 176C152.8 176 160 183.2 160 192V400zM240 400C240 408.8 232.8 416 224 416C215.2 416 208 408.8 208 400V192C208 183.2 215.2 176 224 176C232.8 176 240 183.2 240 192V400zM320 400C320 408.8 312.8 416 304 416C295.2 416 288 408.8 288 400V192C288 183.2 295.2 176 304 176C312.8 176 320 183.2 320 192V400zM317.5 24.94L354.2 80H424C437.3 80 448 90.75 448 104C448 117.3 437.3 128 424 128H416V432C416 476.2 380.2 512 336 512H112C67.82 512 32 476.2 32 432V128H24C10.75 128 0 117.3 0 104C0 90.75 10.75 80 24 80H93.82L130.5 24.94C140.9 9.357 158.4 0 177.1 0H270.9C289.6 0 307.1 9.358 317.5 24.94H317.5zM151.5 80H296.5L277.5 51.56C276 49.34 273.5 48 270.9 48H177.1C174.5 48 171.1 49.34 170.5 51.56L151.5 80zM80 432C80 449.7 94.33 464 112 464H336C353.7 464 368 449.7 368 432V128H80V432z"},null,-1),Ts=[Ns];function Es(e,t){return d(),_("svg",js,Ts)}const bt=Z(zs,[["render",Es]]),Bs={},Us={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Ps=w("path",{fill:"currentColor",d:"M352 256C352 238.3 366.3 224 384 224C401.7 224 416 238.3 416 256C416 273.7 401.7 288 384 288C366.3 288 352 273.7 352 256zM192 256C192 238.3 206.3 224 224 224C241.7 224 256 238.3 256 256C256 273.7 241.7 288 224 288C206.3 288 192 273.7 192 256zM96 256C96 273.7 81.67 288 64 288C46.33 288 32 273.7 32 256C32 238.3 46.33 224 64 224C81.67 224 96 238.3 96 256z"},null,-1),Fs=[Ps];function Hs(e,t){return d(),_("svg",Us,Fs)}const Rs=Z(Bs,[["render",Hs]]),Ks={},qs={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Js=w("path",{fill:"currentColor",d:"M296 391.1c-6.141 0-12.28 2.344-16.97 7.031L248 430.1v-86.06c0-13.25-10.75-24-24-24s-24 10.75-24 24v86.06l-31.03-31.03C164.3 394.3 158.1 391.1 152 391.1c-12.82 0-24 10.33-24 24c0 6.141 2.344 12.28 7.031 16.97l72 72.01C209.6 507.5 215.5 512 224 512s14.4-4.461 16.97-7.031l72-72.01C317.7 428.3 320 422.1 320 415.1C320 402.3 308.8 391.1 296 391.1zM152 119.1c6.141 0 12.28-2.344 16.97-7.031L200 81.91v86.07c0 13.25 10.75 24 24 24s24-10.75 24-24V81.91l31.03 31.03C283.7 117.6 289.8 119.1 296 119.1c18.79 0 24-17.2 24-23.1c0-6.141-2.344-12.28-7.031-16.97l-72-72.01C234.9 .9766 227.7 0 223.1 0C220.3 0 213.1 .9687 207 7l-72 72.01C130.3 83.7 128 89.84 128 95.98C128 109.7 139.2 119.1 152 119.1zM424 232H24C10.75 232 0 242.7 0 255.1S10.75 280 24 280h400c13.25 0 24-10.76 24-24.01S437.3 232 424 232z"},null,-1),Ws=[Js];function Gs(e,t){return d(),_("svg",qs,Ws)}const Ys=Z(Ks,[["render",Gs]]),Zs={},Xs={class:"k-icon k-icon-external",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Qs=w("path",{fill:"currentColor",d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},null,-1),el=[Qs];function tl(e,t){return d(),_("svg",Xs,el)}const nl=Z(Zs,[["render",tl]]),ol={},sl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},ll=w("path",{fill:"currentColor",d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},null,-1),il=[ll];function rl(e,t){return d(),_("svg",sl,il)}const al=Z(ol,[["render",rl]]),ul={},cl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},dl=w("path",{fill:"currentColor",d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},null,-1),fl=[dl];function ml(e,t){return d(),_("svg",cl,fl)}const pl=Z(ul,[["render",ml]]),hl={},vl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},yl=w("path",{fill:"currentColor",d:"M280 224V310.1L303 287C312.4 277.7 327.6 277.7 336.1 287C346.3 296.4 346.3 311.6 336.1 320.1L272.1 384.1C263.6 394.3 248.4 394.3 239 384.1L175 320.1C165.7 311.6 165.7 296.4 175 287C184.4 277.7 199.6 277.7 208.1 287L232 310.1V224H64C28.65 224 0 195.3 0 160V96C0 60.65 28.65 32 64 32H448C483.3 32 512 60.65 512 96V160C512 195.3 483.3 224 448 224H280zM64 288H130C125.9 304 128.1 321.3 136.6 336H64C55.16 336 48 343.2 48 352V416C48 424.8 55.16 432 64 432H448C456.8 432 464 424.8 464 416V352C464 343.2 456.8 336 448 336H375.4C383.9 321.3 386.1 304 381.1 288H448C483.3 288 512 316.7 512 352V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V352C0 316.7 28.65 288 64 288z"},null,-1),gl=[yl];function _l(e,t){return d(),_("svg",vl,gl)}const yn=Z(hl,[["render",_l]]),bl={},$l={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},kl=w("path",{fill:"currentColor",d:"M232,288v-86.1L209,225c-9.4,9.3-24.6,9.3-33.1,0c-10.2-9.4-10.2-24.6,0-33.1l64-64c8.5-10.2,23.7-10.2,33.1,0l64,64c9.3,8.5,9.3,23.7,0,33.1c-9.4,9.3-24.6,9.3-33.1,0L280,201.9V288h168c35.4,0,64,28.7,64,64v64c0,35.4-28.6,64-64,64H64c-35.3,0-64-28.6-64-64l0-64c0-35.3,28.7-64,64-64H232z M448,224h-66c4.1-16,1.9-33.3-6.6-48H448c8.8,0,16-7.2,16-16V96c0-8.8-7.2-16-16-16H64c-8.8,0-16,7.2-16,16v64c0,8.8,7.2,16,16,16h72.6c-8.5,14.7-10.7,32-5.7,48H64c-35.3,0-64-28.7-64-64l0-64c0-35.3,28.7-64,64-64h384c35.4,0,64,28.7,64,64v64C512,195.3,483.4,224,448,224z"},null,-1),wl=[kl];function Cl(e,t){return d(),_("svg",$l,wl)}const gn=Z(bl,[["render",Cl]]),xl={},Vl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Sl=w("path",{fill:"currentColor",d:"M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"},null,-1),Ol=[Sl];function Ml(e,t){return d(),_("svg",Vl,Ol)}const _n=Z(xl,[["render",Ml]]),Ll={},Dl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Il=w("path",{fill:"currentColor",d:"M264 479.1C263.4 479.1 262.7 480 262.1 480H153.9C134.8 480 116.5 472.4 103 458.9L31.03 386.9C2.912 358.8 2.912 313.2 31.03 285.1L253.1 63.03C281.2 34.91 326.8 34.91 354.9 63.03L480.1 189.1C509.1 217.2 509.1 262.8 480.1 290.9L339.9 432H488C501.3 432 512 442.7 512 456C512 469.3 501.3 480 488 480L264 479.1zM64.97 352.1L136.1 424.1C141.5 429.5 147.6 432 153.9 432H262.1C268.4 432 274.5 429.5 279 424.1L344 360L184 200L64.97 319C55.6 328.4 55.6 343.6 64.97 352.1zM31.03 285.1L64.97 319z"},null,-1),Al=[Il];function zl(e,t){return d(),_("svg",Dl,Al)}const jl=Z(Ll,[["render",zl]]),Nl={},Tl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},El=w("path",{fill:"currentColor",d:"M211.8 339.8C200.9 350.7 183.1 350.7 172.2 339.8L108.2 275.8C97.27 264.9 97.27 247.1 108.2 236.2C119.1 225.3 136.9 225.3 147.8 236.2L192 280.4L300.2 172.2C311.1 161.3 328.9 161.3 339.8 172.2C350.7 183.1 350.7 200.9 339.8 211.8L211.8 339.8zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"},null,-1),Bl=[El];function Ul(e,t){return d(),_("svg",Tl,Bl)}const bn=Z(Nl,[["render",Ul]]),Pl={},Fl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Hl=w("path",{fill:"currentColor",d:"M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM384 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80z"},null,-1),Rl=[Hl];function Kl(e,t){return d(),_("svg",Fl,Rl)}const $n=Z(Pl,[["render",Kl]]),ql={},Jl={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Wl=w("path",{fill:"currentColor",d:"M30.81 49.81c8.969-3.656 19.28-1.656 26.16 5.219l41.1 41.1c41.07-40.38 97.11-64.92 157.1-64.92C379.6 32.11 480 132.5 480 256s-100.4 223.9-223.9 223.9c-52.31 0-103.3-18.33-143.5-51.77c-10.19-8.5-11.56-23.62-3.062-33.81c8.531-10.22 23.62-11.56 33.81-3.062C174.9 417.5 214.9 432 256 432c97.03 0 176-78.97 176-176S353 80 256 80c-47.08 0-90.93 19.29-123.2 50.89l52.14 52.14c6.875 6.875 8.906 17.19 5.219 26.16C186.5 218.2 177.7 224 168 224h-128C26.75 224 16 213.3 16 200v-128C16 62.28 21.84 53.53 30.81 49.81z"},null,-1),Gl=[Wl];function Yl(e,t){return d(),_("svg",Jl,Gl)}const Zl=Z(ql,[["render",Yl]]),ae={title:"基础设置",initial:"撤销更改",default:"恢复默认值",collapse:"折叠子项",expand:"展开以编辑",edit:{json:"编辑 JSON",invalid:"无效的配置。",save:"保存更改",copy:"复制到剪贴板",copied:"已复制"},badge:{deprecated:"已废弃",experimental:"实验性"},entry:{key:"键",value:"值","add-item":"添加项目","del-item":"删除项目","add-row":"添加行","del-row":"删除行","move-up":"上移项目","move-down":"下移项目","insert-before":"在上方插入","insert-after":"在下方插入"},select:{all:"全部选中",none:"清空选择"},errors:{"duplicate-key":"键名重复","regexp-not-matched":"未能匹配正则表达式 {0}"}},ue={title:"Basic Settings",initial:"Undo",default:"Restore to Default",collapse:"Collapse",expand:"Expand to Edit",edit:{json:"Edit JSON",invalid:"Invalid configuration.",save:"Save Changes",copy:"Copy to Clipboard",copied:"Copied"},badge:{deprecated:"deprecated",experimental:"experimental"},entry:{key:"Key",value:"Value","add-item":"Add Item","del-item":"Delete Item","add-row":"Add Row","del-row":"Delete Row","move-up":"Move Up","move-down":"Move Down","insert-before":"Insert Before","insert-after":"Insert After"},select:{all:"Select All",none:"Clear Selection"},errors:{"duplicate-key":"Duplicate key","regexp-not-matched":"Not matched with regexp {0}"}},Xl=w("div",{class:"actions"},null,-1),Ql={class:"k-schema-main"},ei={class:"k-schema-left"},ti={class:"k-schema-right"},ni={class:"k-schema-menu"},oi=w("div",{class:"k-menu-separator"},null,-1),si={class:"k-menu-icon"},li={class:"k-menu-icon"},ce=E({__name:"base",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{},extra:{},collapsible:{}},emits:["update:modelValue"],setup(e){var r;const n=R((r=e.collapsible)==null?void 0:r.initial),o=R(null),{t:s,setLocaleMessage:i}=se({messages:{"zh-CN":ae,"en-US":ue}});return(u,y)=>{const m=D("el-button"),b=D("el-tooltip"),g=D("el-collapse-transition");return d(),_(z,null,[w("div",pe({class:"k-schema-item"},u.$attrs),[Xl,w("div",Ql,[w("div",ei,[w("h3",null,[O(u.$slots,"title")]),O(u.$slots,"desc")]),w("div",ti,[n.value?U("v-if",!0):(d(),_(z,{key:0},[O(u.$slots,"prefix"),O(u.$slots,"control"),O(u.$slots,"suffix")],64)),e.collapsible?(d(),_(z,{key:1},[n.value?(d(),L(m,{key:0,onClick:y[0]||(y[0]=C=>n.value=!1)},{default:v(()=>[N(j(c(s)("expand")),1)]),_:1})):U("v-if",!0)],64)):U("v-if",!0)]),w("div",ni,[V(b,{ref_key:"tooltip",ref:o,placement:"bottom-end","popper-class":"k-menu",effect:"light"},{content:v(()=>[w("div",{onClick:y[3]||(y[3]=C=>{var h;return(h=o.value)==null?void 0:h.hide()})},[O(u.$slots,"menu"),e.collapsible?(d(),_(z,{key:0},[oi,n.value?(d(),_("div",{key:0,class:"k-menu-item",onClick:y[1]||(y[1]=C=>n.value=!1)},[w("span",si,[V(c(Ys))]),N(" "+j(c(s)("expand")),1)])):(d(),_("div",{key:1,class:"k-menu-item",onClick:y[2]||(y[2]=C=>n.value=!0)},[w("span",li,[V(c(As))]),N(" "+j(c(s)("collapse")),1)]))],64)):U("v-if",!0)])]),default:v(()=>[V(m,{class:"ellipsis"},{default:v(()=>[V(c(Rs))]),_:1})]),_:3},512)])]),O(u.$slots,"default")],16),e.collapsible?(d(),L(g,{key:1},{default:v(()=>[Ae(w("div",{class:B(["k-schema-group",{collapsed:n.value}])},[O(u.$slots,"collapse")],2),[[ft,!n.value]])]),_:3})):O(u.$slots,"collapse",{key:0})],64)}}});const ii={key:0,class:"suffix-icon"},ri={key:1,class:"suffix-icon"},ai={class:"suffix-icon"},$t=E({__name:"primitive",props:{schema:{},modelValue:{},disabled:Boolean,minimal:Boolean},emits:["update:modelValue","focus","blur"],setup(e,{emit:t}){const n=t,o=e,s=R(!1),i=ye(),{values:r,items:u}=vt(),y=he(),m=A(()=>Y(i.value)),b=A(()=>rt(o.schema,i.value)),g=A(()=>["url","link"].includes(o.schema.meta.role)),C=A(()=>{const{type:f,meta:p}=o.schema;return f==="number"?"number":p.role==="secret"&&!s.value?"password":"text"}),h=A({get(){if(o.modelValue){if(["date","datetime"].includes(o.schema.meta.role))return new Date(i.value);if(o.schema.meta.role==="time")return new Date("1970-01-01 "+i.value)}},set(f){o.schema.meta.role==="datetime"?n("update:modelValue",f.toLocaleString()):o.schema.meta.role==="date"?n("update:modelValue",f.toLocaleDateString()):o.schema.meta.role==="time"&&n("update:modelValue",f.toLocaleTimeString())}}),k=A({get(){const f=o.schema.list.find(p=>p.value===i.value);if(f)return y(f.meta.description)||f.value},set(f){i.value=o.schema.list[f].value}});function $(f){f&&open(f,"_blank")}const{t:l,setLocaleMessage:a}=se({messages:{"zh-CN":ae,"en-US":ue}});return(f,p)=>{const x=D("el-checkbox"),S=D("el-switch"),T=D("el-slider"),I=D("el-input-number"),P=D("el-color-picker"),W=D("el-time-picker"),G=D("el-date-picker"),q=D("el-tooltip"),X=D("el-input"),K=D("k-badge"),ee=D("el-option"),Q=D("el-select");return e.schema.type==="boolean"?(d(),_(z,{key:0},[e.minimal?(d(),L(x,{key:0,modelValue:c(i),"onUpdate:modelValue":p[0]||(p[0]=M=>oe(i)?i.value=M:null),class:B({nullable:m.value}),disabled:e.disabled},null,8,["modelValue","class","disabled"])):(d(),L(S,{key:1,modelValue:c(i),"onUpdate:modelValue":p[1]||(p[1]=M=>oe(i)?i.value=M:null),class:B({nullable:m.value}),disabled:e.disabled},null,8,["modelValue","class","disabled"]))],64)):e.schema.type==="number"?(d(),_(z,{key:1},[e.schema.meta.role==="slider"?(d(),L(T,{key:0,style:{width:"200px"},modelValue:c(i),"onUpdate:modelValue":p[2]||(p[2]=M=>oe(i)?i.value=M:null),disabled:e.disabled,max:e.schema.meta.max,min:e.schema.meta.min,step:e.schema.meta.step},null,8,["modelValue","disabled","max","min","step"])):(d(),L(I,{key:1,modelValue:c(i),"onUpdate:modelValue":p[3]||(p[3]=M=>oe(i)?i.value=M:null),disabled:e.disabled,max:e.schema.meta.max,min:e.schema.meta.min,step:e.schema.meta.step,onFocus:p[4]||(p[4]=M=>f.$emit("focus",M)),onBlur:p[5]||(p[5]=M=>f.$emit("blur",M))},null,8,["modelValue","disabled","max","min","step"]))],64)):e.schema.type==="string"?(d(),_(z,{key:2},[e.schema.meta.role==="color"?(d(),L(P,{key:0,disabled:e.disabled,modelValue:c(i),"onUpdate:modelValue":p[6]||(p[6]=M=>oe(i)?i.value=M:null),"show-alpha":""},null,8,["disabled","modelValue"])):e.schema.meta.role==="time"?(d(),L(W,{key:1,disabled:e.disabled,modelValue:h.value,"onUpdate:modelValue":p[7]||(p[7]=M=>h.value=M),onFocus:p[8]||(p[8]=M=>f.$emit("focus",M)),onBlur:p[9]||(p[9]=M=>f.$emit("blur",M))},null,8,["disabled","modelValue"])):["date","datetime"].includes(e.schema.meta.role)?(d(),L(G,{key:2,disabled:e.disabled,type:e.schema.meta.role,modelValue:h.value,"onUpdate:modelValue":p[10]||(p[10]=M=>h.value=M),onFocus:p[11]||(p[11]=M=>f.$emit("focus",M)),onBlur:p[12]||(p[12]=M=>f.$emit("blur",M))},null,8,["disabled","type","modelValue"])):(d(),L(X,{key:3,modelValue:c(i),"onUpdate:modelValue":p[16]||(p[16]=M=>oe(i)?i.value=M:null),disabled:e.disabled,class:B({minimal:e.minimal,nullable:m.value,invalid:b.value}),style:Xe({width:e.minimal?"100%":g.value?"16rem":"12rem"}),type:C.value,onFocus:p[17]||(p[17]=M=>f.$emit("focus",M)),onBlur:p[18]||(p[18]=M=>f.$emit("blur",M))},mt({suffix:v(()=>[g.value?(d(),_("span",ii,[V(c(nl),{onClick:p[13]||(p[13]=M=>$(c(i)))})])):e.schema.meta.role==="secret"?(d(),_("span",ri,[s.value?(d(),L(c(pl),{key:0,onClick:p[14]||(p[14]=M=>s.value=!s.value)})):(d(),L(c(al),{key:1,onClick:p[15]||(p[15]=M=>s.value=!s.value)}))])):U("v-if",!0),b.value?(d(),L(q,{key:2,content:c(l)(...b.value)},{default:v(()=>[w("span",ai,[V(c(_n),{class:"invalid"})])]),_:1},8,["content"])):U("v-if",!0)]),_:2},[m.value?{name:"prefix",fn:v(()=>[]),key:"0"}:void 0]),1032,["modelValue","disabled","class","style","type"]))],64)):e.schema.type==="union"?(d(),L(Q,{key:3,modelValue:k.value,"onUpdate:modelValue":p[19]||(p[19]=M=>k.value=M),filterable:"",disabled:e.disabled,onFocus:p[20]||(p[20]=M=>f.$emit("focus",M)),onBlur:p[21]||(p[21]=M=>f.$emit("blur",M))},{default:v(()=>[(d(!0),_(z,null,H(e.schema.list,(M,de)=>(d(),L(ee,{key:de,value:de,disabled:M.meta.disabled},{default:v(()=>[N(j(c(y)(M.meta.description)||M.value)+" ",1),(d(!0),_(z,null,H(M.meta.badges||[],({text:Oe,type:Re})=>(d(),L(K,{type:Re},{default:v(()=>[N(j(c(l)("badge."+Oe)),1)]),_:2},1032,["type"]))),256))]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue","disabled"])):e.schema.type==="array"||e.schema.type==="bitset"?(d(),L(Q,{key:4,multiple:"","collapse-tags":"",modelValue:c(r),"onUpdate:modelValue":p[22]||(p[22]=M=>oe(r)?r.value=M:null),disabled:e.disabled},{default:v(()=>[(d(!0),_(z,null,H(c(u),M=>(d(),L(ee,{key:M.value,value:M.value,disabled:M.meta.disabled},{default:v(()=>[N(j(c(y)(M.meta.description)||M.value)+" ",1),(d(!0),_(z,null,H(M.meta.badges||[],({text:de,type:Oe})=>(d(),L(K,{type:Oe},{default:v(()=>[N(j(c(l)("badge."+de)),1)]),_:2},1032,["type"]))),256))]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue","disabled"])):U("v-if",!0)}}});const ui=w("div",{class:"k-menu-separator"},null,-1),ci={class:"k-menu-icon"},di={class:"k-menu-icon"},fi={class:"bottom"},kn=E({__name:"checkbox",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{}},emits:["update:modelValue"],setup(e){const t=he(),{values:n,items:o,toggle:s,selectAll:i,selectNone:r}=vt(),{t:u,setLocaleMessage:y}=se({messages:{"zh-CN":ae,"en-US":ue}});return(m,b)=>{const g=D("k-badge"),C=D("el-checkbox");return d(),L(ce,null,{title:v(()=>[O(m.$slots,"title")]),desc:v(()=>[O(m.$slots,"desc")]),menu:v(()=>[O(m.$slots,"menu"),ui,w("div",{class:B(["k-menu-item",{disabled:e.disabled}]),onClick:b[0]||(b[0]=(...h)=>c(i)&&c(i)(...h))},[w("span",ci,[V(c(bn))]),N(" "+j(c(u)("select.all")),1)],2),w("div",{class:B(["k-menu-item",{disabled:e.disabled}]),onClick:b[1]||(b[1]=(...h)=>c(r)&&c(r)(...h))},[w("span",di,[V(c($n))]),N(" "+j(c(u)("select.none")),1)],2)]),prefix:v(()=>[O(m.$slots,"prefix")]),suffix:v(()=>[O(m.$slots,"suffix")]),default:v(()=>[w("ul",fi,[(d(!0),_(z,null,H(c(o),h=>(d(),_("li",{key:h.value},[V(C,{disabled:e.disabled||h.meta.disabled,modelValue:c(n).includes(h.value),"onUpdate:modelValue":k=>c(s)(h.value)},{default:v(()=>[N(j(c(t)(h.meta.description)||h.value)+" ",1),(d(!0),_(z,null,H(h.meta.badges||[],({text:k,type:$})=>(d(),L(g,{type:$},{default:v(()=>[N(j(c(u)("badge."+k)),1)]),_:2},1032,["type"]))),256))]),_:2},1032,["disabled","modelValue","onUpdate:modelValue"])]))),128))])]),_:3})}}}),mi=e=>(Xt("data-v-c2d47b61"),e=e(),Qt(),e),pi=mi(()=>w("div",{class:"k-menu-separator"},null,-1)),hi=["onClick"],vi={class:"k-menu-icon"},yi=["onClick"],gi={class:"k-menu-icon"},_i=["onClick"],bi={class:"k-menu-icon"},$i=["onClick"],ki={class:"k-menu-icon"},wi=["onClick"],Ci={class:"k-menu-icon"},xi={class:"prefix"},Vi={class:"entry-input"},Si={key:0,class:"shadow"},Oi={key:1,class:"placeholder"},Mi=["onUpdate:modelValue"],Li=E({__name:"group",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{},extra:{}},emits:["update:modelValue"],setup(e){const{entries:t,up:n,down:o,insert:s,del:i,isMax:r,isMin:u,isFixedLength:y}=ht(),{t:m,setLocaleMessage:b}=se({messages:{"zh-CN":ae,"en-US":ue}});return(g,C)=>{const h=D("el-button"),k=D("k-schema");return d(),L(ce,pe(g.$attrs,{collapsible:{initial:e.schema.meta.collapse}}),{title:v(()=>[O(g.$slots,"title",{},void 0,!0)]),desc:v(()=>[O(g.$slots,"desc",{},void 0,!0)]),menu:v(()=>[O(g.$slots,"menu",{},void 0,!0)]),prefix:v(()=>[O(g.$slots,"prefix",{},void 0,!0)]),suffix:v(()=>[O(g.$slots,"suffix",{},void 0,!0)]),control:v(()=>[c(y)?U("v-if",!0):(d(),L(h,{key:0,onClick:C[0]||(C[0]=$=>c(s)(c(t).length)),disabled:e.disabled||c(r)},{default:v(()=>[N(j(c(m)("entry.add-item")),1)]),_:1},8,["disabled"]))]),collapse:v(()=>[(d(!0),_(z,null,H(c(t),([$,l],a)=>(d(),L(k,{key:a,modelValue:c(t)[a][1],"onUpdate:modelValue":f=>c(t)[a][1]=f,initial:(e.initial??e.schema.meta.default)[$],schema:e.schema.inner,disabled:e.disabled,prefix:e.schema.type==="array"?`${e.prefix.slice(0,-1)}[${$}].`:e.prefix+$+".",extra:{foldable:!0,changed:$ in(e.initial??e.schema.meta.default)?void 0:!0,invalid:c(t).filter(f=>f[0]===$).length>1}},{menu:v(()=>[pi,w("div",{class:B(["k-menu-item",{disabled:e.disabled||!a}]),onClick:f=>c(n)(a)},[w("span",vi,[V(c(_t))]),N(" "+j(c(m)("entry.move-up")),1)],10,hi),w("div",{class:B(["k-menu-item",{disabled:e.disabled||a===c(t).length-1}]),onClick:f=>c(o)(a)},[w("span",gi,[V(c(gt))]),N(" "+j(c(m)("entry.move-down")),1)],10,yi),c(y)?U("v-if",!0):(d(),_("div",{key:0,class:B(["k-menu-item",{disabled:e.disabled||c(u)}]),onClick:f=>c(i)(a)},[w("span",bi,[V(c(bt))]),N(" "+j(c(m)("entry.del-item")),1)],10,_i)),c(y)?U("v-if",!0):(d(),_("div",{key:1,class:B(["k-menu-item",{disabled:e.disabled||c(r)}]),onClick:f=>c(s)(a)},[w("span",ki,[V(c(gn))]),N(" "+j(c(m)("entry.insert-before")),1)],10,$i)),c(y)?U("v-if",!0):(d(),_("div",{key:2,class:B(["k-menu-item",{disabled:e.disabled||c(r)}]),onClick:f=>c(s)(a+1)},[w("span",Ci,[V(c(yn))]),N(" "+j(c(m)("entry.insert-after")),1)],10,wi))]),title:v(()=>[w("span",xi,j(e.prefix.slice(0,-1)),1),e.schema.type==="array"?(d(),_(z,{key:0},[N("["+j($)+"]",1)],64)):(d(),_(z,{key:1},[N(" [' "),w("span",Vi,[c(t)[a][0]?(d(),_("span",Si,j(c(t)[a][0]),1)):(d(),_("span",Oi," ")),Ae(w("input",{"onUpdate:modelValue":f=>c(t)[a][0]=f},null,8,Mi),[[Qn,c(t)[a][0]]])]),N(" '] ")],64))]),_:2},1032,["modelValue","onUpdate:modelValue","initial","schema","disabled","prefix","extra"]))),128))]),_:3},16,["collapsible"])}}});const wn=Z(Li,[["__scopeId","data-v-c2d47b61"]]),Di={key:0,class:"k-schema-header"},Ii=E({inheritAttrs:!1,__name:"intersect",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{},extra:{}},emits:["update:modelValue"],setup(e){const t=e,[n,o]=sn(),s=he(),i=A(()=>s(t.schema.meta.description));return(r,u)=>{var b;const y=D("k-schema"),m=D("k-markdown");return d(),_(z,null,[V(c(n),null,{default:v(()=>[(d(!0),_(z,null,H(c(He)(e.schema),(g,C)=>{var h;return d(),L(y,{key:C,modelValue:e.modelValue,"onUpdate:modelValue":u[0]||(u[0]=k=>r.$emit("update:modelValue",k)),schema:(h=e.extra)!=null&&h.foldable?g:{...g,meta:{...e.schema.meta,...g.meta}},initial:e.initial,disabled:e.disabled,prefix:e.prefix,extra:{foldable:!1}},{title:v(()=>[O(r.$slots,"title")]),prefix:v(()=>[O(r.$slots,"prefix")]),suffix:v(()=>[O(r.$slots,"suffix")]),_:2},1032,["modelValue","schema","initial","disabled","prefix"])}),128))]),_:3}),((b=e.extra)==null?void 0:b.foldable)??e.schema.meta.collapse?(d(),L(ce,pe({key:0},r.$attrs,{collapsible:{initial:e.schema.meta.collapse}}),{title:v(()=>[O(r.$slots,"title")]),desc:v(()=>[O(r.$slots,"desc",{},()=>[V(m,{source:i.value},null,8,["source"])])]),menu:v(()=>[O(r.$slots,"menu")]),prefix:v(()=>[O(r.$slots,"prefix")]),suffix:v(()=>[O(r.$slots,"suffix")]),collapse:v(()=>[V(c(o))]),_:3},16,["collapsible"])):(d(),_(z,{key:1},[i.value?(d(),_("h2",Di,j(i.value),1)):U("v-if",!0),V(c(o))],64))],64)}}}),Ai={class:"prefix"},zi={key:0,class:"k-schema-header"},ji=E({inheritAttrs:!1,__name:"object",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{},extra:{}},emits:["update:modelValue"],setup(e){const t=e,[n,o]=sn(),s=he(),i=ye(),r=A(()=>s(t.schema.meta.description)),{t:u,setLocaleMessage:y}=se({messages:{"zh-CN":ae,"en-US":ue}});return(m,b)=>{var k;const g=D("k-badge"),C=D("k-schema"),h=D("k-markdown");return d(),_(z,null,[V(c(n),null,{default:v(()=>[(d(!0),_(z,null,H(e.schema.dict,($,l)=>{var a;return d(),L(C,{key:l,modelValue:c(i)[l],"onUpdate:modelValue":f=>c(i)[l]=f??void 0,schema:$,initial:(a=e.initial)==null?void 0:a[l],disabled:e.disabled,prefix:e.prefix+l+"."},{title:v(()=>[w("span",Ai,j(e.prefix),1),w("span",null,j(l),1),(d(!0),_(z,null,H($.meta.badges||[],({text:f,type:p})=>(d(),L(g,{type:p},{default:v(()=>[N(j(c(u)("badge."+f)),1)]),_:2},1032,["type"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","schema","initial","disabled","prefix"])}),128))]),_:1}),((k=e.extra)==null?void 0:k.foldable)??e.schema.meta.collapse?(d(),L(ce,pe({key:0},m.$attrs,{collapsible:{initial:e.schema.meta.collapse}}),{title:v(()=>[O(m.$slots,"title")]),desc:v(()=>[O(m.$slots,"desc",{},()=>[V(h,{source:r.value},null,8,["source"])])]),menu:v(()=>[O(m.$slots,"menu")]),prefix:v(()=>[O(m.$slots,"prefix")]),suffix:v(()=>[O(m.$slots,"suffix")]),collapse:v(()=>[V(c(o))]),_:3},16,["collapsible"])):(d(),_(z,{key:1},[r.value?(d(),_("h2",zi,j(r.value),1)):U("v-if",!0),V(c(o))],64))],64)}}}),Ni={class:"bottom"},Ti=E({__name:"radio",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{}},emits:["update:modelValue"],setup(e){const t=he(),n=ye(),{t:o,setLocaleMessage:s}=se({messages:{"zh-CN":ae,"en-US":ue}});return(i,r)=>{const u=D("k-badge"),y=D("el-radio");return d(),L(ce,null,{title:v(()=>[O(i.$slots,"title")]),desc:v(()=>[O(i.$slots,"desc")]),menu:v(()=>[O(i.$slots,"menu")]),prefix:v(()=>[O(i.$slots,"prefix")]),suffix:v(()=>[O(i.$slots,"suffix")]),default:v(()=>[w("ul",Ni,[(d(!0),_(z,null,H(c(He)(e.schema),m=>(d(),_("li",{key:m.value},[V(y,{label:m.value,disabled:e.disabled||m.meta.disabled,modelValue:c(n),"onUpdate:modelValue":r[0]||(r[0]=b=>oe(n)?n.value=b:null)},{default:v(()=>[N(j(c(t)(m.meta.description)||m.value)+" ",1),(d(!0),_(z,null,H(m.meta.badges||[],({text:b,type:g})=>(d(),L(u,{type:g},{default:v(()=>[N(j(c(o)("badge."+b)),1)]),_:2},1032,["type"]))),256))]),_:2},1032,["label","disabled","modelValue"])]))),128))])]),_:3})}}}),Ei=w("div",{class:"k-menu-separator"},null,-1),Bi={class:"k-menu-icon"},Ui={class:"k-menu-icon"},Cn=E({__name:"multiselect",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{}},emits:["update:modelValue"],setup(e){const t=he(),{values:n,items:o,selectAll:s,selectNone:i}=vt(),{t:r,setLocaleMessage:u}=se({messages:{"zh-CN":ae,"en-US":ue}});return(y,m)=>{const b=D("k-badge"),g=D("el-option"),C=D("el-select");return d(),L(ce,null,{title:v(()=>[O(y.$slots,"title")]),desc:v(()=>[O(y.$slots,"desc")]),menu:v(()=>[O(y.$slots,"menu"),Ei,w("div",{class:B(["k-menu-item",{disabled:e.disabled}]),onClick:m[0]||(m[0]=(...h)=>c(s)&&c(s)(...h))},[w("span",Bi,[V(c(bn))]),N(" "+j(c(r)("select.all")),1)],2),w("div",{class:B(["k-menu-item",{disabled:e.disabled}]),onClick:m[1]||(m[1]=(...h)=>c(i)&&c(i)(...h))},[w("span",Ui,[V(c($n))]),N(" "+j(c(r)("select.none")),1)],2)]),prefix:v(()=>[O(y.$slots,"prefix")]),suffix:v(()=>[O(y.$slots,"suffix")]),control:v(()=>[V(C,{multiple:"","collapse-tags":"",modelValue:c(n),"onUpdate:modelValue":m[2]||(m[2]=h=>oe(n)?n.value=h:null),disabled:e.disabled},{default:v(()=>[(d(!0),_(z,null,H(c(o),h=>(d(),L(g,{key:h.value,value:h.value,disabled:h.meta.disabled},{default:v(()=>[N(j(c(t)(h.meta.description)||h.value)+" ",1),(d(!0),_(z,null,H(h.meta.badges||[],({text:k,type:$})=>(d(),L(b,{type:$},{default:v(()=>[N(j(c(r)("badge."+k)),1)]),_:2},1032,["type"]))),256))]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue","disabled"])]),_:3})}}}),Pi={class:"k-schema-table"},Fi={key:0},Hi={key:0},Ri=w("th",{colspan:"3"},null,-1),Ki=["onMouseenter","onMouseleave"],qi={class:"suffix-icon"},Ji=["onMouseenter","onMouseleave"],Wi=["onClick"],Gi={class:"inner"},Yi=["onClick"],Zi={class:"inner"},Xi=["onClick"],Qi={class:"inner"},xn=E({__name:"table",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{}},emits:["update:modelValue"],setup(e){const t=e,n=A(()=>yt(t.schema.inner)),{entries:o,insert:s,del:i,up:r,down:u,isMax:y,isMin:m,isFixedLength:b}=ht(),g=R(),C=R(),h=R();function k(I,P){const W=I.getBoundingClientRect(),G=g.value.getBoundingClientRect();return{el:I,invalid:!!P,top:W.top-G.top,left:W.left-G.left,width:W.width,height:W.height}}function $(I,P){if(I===null)return;if(P>=0)return rt(n.value[P][1],o.value[I][1]);const W=rt(t.schema.sKey,o.value[I][0]);if(W)return W;if(P===-1&&o.value.filter(([G])=>G===o.value[I][0]).length>1)return["errors.duplicate-key"]}function l(I,P,W){var q,X;const G=I.target;G!==((q=C.value)==null?void 0:q.el)&&((X=n.value[W])!=null&&X[1].meta.disabled||(C.value=k(G,$(P,W))))}function a(I,P,W){C.value=void 0}function f(I,P,W){var q;let G=I.target;for(;G&&G.tagName!=="TD";)G=G.parentElement;!G||G===((q=h.value)==null?void 0:q.el)||(h.value=k(G,$(P,W)))}function p(I,P,W){h.value=void 0}const x=he(),{t:S,setLocaleMessage:T}=se({messages:{"zh-CN":ae,"en-US":ue}});return(I,P)=>{const W=D("el-button"),G=D("k-badge"),q=D("el-tooltip"),X=D("el-input");return d(),L(ce,null,{title:v(()=>[O(I.$slots,"title")]),desc:v(()=>[O(I.$slots,"desc")]),menu:v(()=>[O(I.$slots,"menu")]),prefix:v(()=>[O(I.$slots,"prefix")]),suffix:v(()=>[O(I.$slots,"suffix")]),control:v(()=>[c(b)?U("v-if",!0):(d(),L(W,{key:0,onClick:P[0]||(P[0]=K=>c(s)(c(o).length)),disabled:e.disabled||c(y)},{default:v(()=>[N(j(c(S)("entry.add-row")),1)]),_:1},8,["disabled"]))]),default:v(()=>{var K;return[n.value&&c(o).length?(d(),_("div",{key:0,class:"bottom k-schema-table-container",ref_key:"container",ref:g},[w("table",Pi,[e.schema.type==="dict"||n.value[0][0]!==null?(d(),_("tr",Fi,[e.schema.type==="dict"?(d(),_("th",Hi,j(c(x)((K=e.schema.sKey)==null?void 0:K.meta.description)||c(S)("entry.key")),1)):U("v-if",!0),(d(!0),_(z,null,H(n.value,([ee,Q])=>(d(),_("th",{key:ee},[w("span",null,j(ee===null?c(S)("entry.value"):c(x)(Q.meta.description)||ee),1),(d(!0),_(z,null,H(Q.meta.badges||[],({text:M,type:de})=>(d(),L(G,{type:de},{default:v(()=>[N(j(c(S)("badge."+M)),1)]),_:2},1032,["type"]))),256))]))),128)),Ri])):U("v-if",!0),(d(!0),_(z,null,H(c(o),(ee,Q)=>(d(),_("tr",null,[e.schema.type==="dict"?(d(),_("td",{key:0,class:"key",onMouseenter:M=>l(M,Q,-1),onMouseleave:M=>a()},[V(X,{modelValue:c(o)[Q][0],"onUpdate:modelValue":M=>c(o)[Q][0]=M,disabled:e.disabled,onFocus:M=>f(M,Q,-1),onBlur:M=>p()},{suffix:v(()=>[$(Q,-1)?(d(),L(q,{key:0,content:c(S)(...$(Q,-1))},{default:v(()=>[w("span",qi,[V(c(_n),{class:"invalid"})])]),_:2},1032,["content"])):U("v-if",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onFocus","onBlur"])],40,Ki)):U("v-if",!0),(d(!0),_(z,null,H(n.value,([M,de],Oe)=>{var Re;return d(),_("td",{key:M,class:B("k-schema-column-"+de.type),onMouseenter:ge=>l(ge,Q,Oe),onMouseleave:ge=>a()},[V($t,{minimal:"",schema:de,disabled:e.disabled||de.meta.disabled,modelValue:M===null?c(o)[Q][1]:(Re=c(o)[Q][1])==null?void 0:Re[M],"onUpdate:modelValue":ge=>{var Ot;return M===null?c(o)[Q][1]=ge:((Ot=c(o)[Q])[1]||(Ot[1]={}))[M]=ge},onFocus:ge=>f(ge,Q,Oe),onBlur:ge=>p()},null,8,["schema","disabled","modelValue","onUpdate:modelValue","onFocus","onBlur"])],42,Ji)}),128)),e.disabled?U("v-if",!0):(d(),_("td",{key:1,class:B(["button",{disabled:!Q}]),onClick:fe(M=>c(r)(Q),["stop"]),onMouseenter:P[1]||(P[1]=M=>l(M,null)),onMouseleave:P[2]||(P[2]=M=>a())},[w("div",Gi,[V(c(_t))])],42,Wi)),e.disabled?U("v-if",!0):(d(),_("td",{key:2,class:B(["button",{disabled:Q===c(o).length-1}]),onClick:fe(M=>c(u)(Q),["stop"]),onMouseenter:P[3]||(P[3]=M=>l(M,null)),onMouseleave:P[4]||(P[4]=M=>a())},[w("div",Zi,[V(c(gt))])],42,Yi)),!e.disabled&&!c(b)?(d(),_("td",{key:3,class:B(["button",{disabled:c(m)}]),onClick:fe(M=>c(i)(Q),["stop"]),onMouseenter:P[5]||(P[5]=M=>l(M,null)),onMouseleave:P[6]||(P[6]=M=>a())},[w("div",Qi,[V(c(bt))])],42,Xi)):U("v-if",!0)]))),256))]),(d(!0),_(z,null,H({hover:C.value,focus:h.value},ee=>(d(),_(z,null,[ee?(d(),_("div",{key:0,class:B(["cell-outline",{invalid:ee.invalid}]),style:Xe({top:ee.top+"px",left:ee.left+"px",width:ee.width+"px",height:ee.height+"px"})},null,6)):U("v-if",!0)],64))),256))],512)):U("v-if",!0)]}),_:3})}}});const er={class:"bottom"},tr=E({__name:"textarea",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{}},emits:["update:modelValue"],setup(e){const t=e,n=ye(),o=A(()=>{const{rows:s}=t.schema.meta.extra||{};return typeof s=="number"?{minRows:s,maxRows:s}:Array.isArray(s)?{minRows:s[0],maxRows:s[1]}:!0});return(s,i)=>{const r=D("el-input");return d(),L(ce,null,{title:v(()=>[O(s.$slots,"title")]),desc:v(()=>[O(s.$slots,"desc")]),menu:v(()=>[O(s.$slots,"menu")]),prefix:v(()=>[O(s.$slots,"prefix")]),suffix:v(()=>[O(s.$slots,"suffix")]),default:v(()=>[w("div",er,[V(r,{type:"textarea",modelValue:c(n),"onUpdate:modelValue":i[0]||(i[0]=u=>oe(n)?n.value=u:null),autosize:o.value,disabled:e.disabled},null,8,["modelValue","autosize","disabled"])])]),_:3})}}}),nr=E({__name:"tuple",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{}},emits:["update:modelValue"],setup(e){const t=e,n=ye(),o=A(()=>t.schema.list.every(s=>["string","number","boolean"].includes(s.type)));return(s,i)=>(d(),L(ce,null,mt({title:v(()=>[O(s.$slots,"title")]),desc:v(()=>[O(s.$slots,"desc")]),menu:v(()=>[O(s.$slots,"menu")]),_:2},[o.value?{name:"prefix",fn:v(()=>[O(s.$slots,"prefix")]),key:"0"}:void 0,o.value?{name:"suffix",fn:v(()=>[O(s.$slots,"suffix")]),key:"1"}:void 0,o.value?{name:"control",fn:v(()=>[(d(!0),_(z,null,H(e.schema.list,(r,u)=>(d(),L($t,{key:u,schema:r,disabled:e.disabled,modelValue:c(n)[u],"onUpdate:modelValue":y=>c(n)[u]=y},null,8,["schema","disabled","modelValue","onUpdate:modelValue"]))),128))]),key:"2"}:void 0]),1024))}}),or=E({__name:"union",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{},extra:{}},emits:["update:modelValue"],setup(e){const t=e,n=he(),o=R(),s=R(),i=R();le(()=>t.schema,b=>{o.value=He(t.schema),s.value=o.value.map(g=>g.type==="const"?g.value:Ne(g,!0))},{immediate:!0});const r=ye({input(b){i.value=null;let g=!0,C=0;for(;!i.value&&g&&++C<10;){g=!1;for(const[h,k]of t.schema.list.entries())if(!k.meta.hidden&&ss(k,b)){if(k.type==="transform"){if(!k.callback)continue;try{b=k.callback(b)}catch($){console.error($);continue}g=!0,b??(b=Ne(t.schema))}else i.value=k,s.value[h]=b;break}}return $e(b,Ne(t.schema))&&(b=null),b}}),u=A({get(){var b,g;if(i.value!==t.schema)return n((b=i.value)==null?void 0:b.meta.description)||((g=i.value)==null?void 0:g.value)},set(b){i.value!==o.value[b]&&(r.value=s.value[b],i.value=o.value[b])}}),{t:y,setLocaleMessage:m}=se({messages:{"zh-CN":ae,"en-US":ue}});return(b,g)=>{var a;const C=D("k-markdown"),h=D("k-badge"),k=D("el-option"),$=D("el-select"),l=D("k-schema");return d(),L(l,{modelValue:c(r),"onUpdate:modelValue":g[1]||(g[1]=f=>oe(r)?r.value=f:null),schema:i.value,initial:e.initial,disabled:e.disabled,prefix:e.prefix,extra:{foldable:((a=e.extra)==null?void 0:a.foldable)??!0,required:!!e.schema.meta.required&&c(Y)(e.schema.meta.default)&&c(Y)(e.modelValue)}},{title:v(()=>[O(b.$slots,"title")]),desc:v(()=>[O(b.$slots,"desc",{},()=>[V(C,{source:c(n)(e.schema.meta.description)},null,8,["source"])])]),prefix:v(()=>[o.value.length>1?(d(),L($,{key:0,modelValue:u.value,"onUpdate:modelValue":g[0]||(g[0]=f=>u.value=f),filterable:"",disabled:e.disabled},{default:v(()=>[(d(!0),_(z,null,H(o.value,(f,p)=>(d(),L(k,{key:p,value:p,disabled:f.meta.disabled},{default:v(()=>[N(j(c(n)(f.meta.description)||f.value)+" ",1),(d(!0),_(z,null,H(f.meta.badges||[],({text:x,type:S})=>(d(),L(h,{type:S},{default:v(()=>[N(j(c(y)("badge."+x)),1)]),_:2},1032,["type"]))),256))]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue","disabled"])):U("v-if",!0)]),suffix:v(()=>[O(b.$slots,"suffix")]),_:3},8,["modelValue","schema","initial","disabled","prefix","extra"])}}}),Tt=E({__name:"badge",props:{type:{}},setup(e){return(t,n)=>(d(),_("span",{class:B(["k-badge",t.type])},[O(t.$slots,"default")],2))}});/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const sr=Object.prototype.hasOwnProperty,Et=(e,t)=>sr.call(e,t),ut=e=>typeof e=="function",Ge=e=>typeof e=="string",Vn=e=>e!==null&&typeof e=="object";var lr=typeof global=="object"&&global&&global.Object===Object&&global;const ir=lr;var rr=typeof self=="object"&&self&&self.Object===Object&&self,ar=ir||rr||Function("return this")();const kt=ar;var ur=kt.Symbol;const De=ur;var Sn=Object.prototype,cr=Sn.hasOwnProperty,dr=Sn.toString,je=De?De.toStringTag:void 0;function fr(e){var t=cr.call(e,je),n=e[je];try{e[je]=void 0;var o=!0}catch{}var s=dr.call(e);return o&&(t?e[je]=n:delete e[je]),s}var mr=Object.prototype,pr=mr.toString;function hr(e){return pr.call(e)}var vr="[object Null]",yr="[object Undefined]",Bt=De?De.toStringTag:void 0;function On(e){return e==null?e===void 0?yr:vr:Bt&&Bt in Object(e)?fr(e):hr(e)}function gr(e){return e!=null&&typeof e=="object"}var _r="[object Symbol]";function wt(e){return typeof e=="symbol"||gr(e)&&On(e)==_r}function br(e,t){for(var n=-1,o=e==null?0:e.length,s=Array(o);++n<o;)s[n]=t(e[n],n,e);return s}var $r=Array.isArray;const Ct=$r;var kr=1/0,Ut=De?De.prototype:void 0,Pt=Ut?Ut.toString:void 0;function Mn(e){if(typeof e=="string")return e;if(Ct(e))return br(e,Mn)+"";if(wt(e))return Pt?Pt.call(e):"";var t=e+"";return t=="0"&&1/e==-kr?"-0":t}function Ln(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wr="[object AsyncFunction]",Cr="[object Function]",xr="[object GeneratorFunction]",Vr="[object Proxy]";function Sr(e){if(!Ln(e))return!1;var t=On(e);return t==Cr||t==xr||t==wr||t==Vr}var Or=kt["__core-js_shared__"];const ot=Or;var Ft=function(){var e=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Mr(e){return!!Ft&&Ft in e}var Lr=Function.prototype,Dr=Lr.toString;function Ir(e){if(e!=null){try{return Dr.call(e)}catch{}try{return e+""}catch{}}return""}var Ar=/[\\^$.*+?()[\]{}|]/g,zr=/^\[object .+?Constructor\]$/,jr=Function.prototype,Nr=Object.prototype,Tr=jr.toString,Er=Nr.hasOwnProperty,Br=RegExp("^"+Tr.call(Er).replace(Ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ur(e){if(!Ln(e)||Mr(e))return!1;var t=Sr(e)?Br:zr;return t.test(Ir(e))}function Pr(e,t){return e==null?void 0:e[t]}function Dn(e,t){var n=Pr(e,t);return Ur(n)?n:void 0}function Fr(e,t){return e===t||e!==e&&t!==t}var Hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rr=/^\w*$/;function Kr(e,t){if(Ct(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wt(e)?!0:Rr.test(e)||!Hr.test(e)||t!=null&&e in Object(t)}var qr=Dn(Object,"create");const Te=qr;function Jr(){this.__data__=Te?Te(null):{},this.size=0}function Wr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Gr="__lodash_hash_undefined__",Yr=Object.prototype,Zr=Yr.hasOwnProperty;function Xr(e){var t=this.__data__;if(Te){var n=t[e];return n===Gr?void 0:n}return Zr.call(t,e)?t[e]:void 0}var Qr=Object.prototype,ea=Qr.hasOwnProperty;function ta(e){var t=this.__data__;return Te?t[e]!==void 0:ea.call(t,e)}var na="__lodash_hash_undefined__";function oa(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Te&&t===void 0?na:t,this}function Ve(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Ve.prototype.clear=Jr;Ve.prototype.delete=Wr;Ve.prototype.get=Xr;Ve.prototype.has=ta;Ve.prototype.set=oa;function sa(){this.__data__=[],this.size=0}function Qe(e,t){for(var n=e.length;n--;)if(Fr(e[n][0],t))return n;return-1}var la=Array.prototype,ia=la.splice;function ra(e){var t=this.__data__,n=Qe(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():ia.call(t,n,1),--this.size,!0}function aa(e){var t=this.__data__,n=Qe(t,e);return n<0?void 0:t[n][1]}function ua(e){return Qe(this.__data__,e)>-1}function ca(e,t){var n=this.__data__,o=Qe(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function ze(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}ze.prototype.clear=sa;ze.prototype.delete=ra;ze.prototype.get=aa;ze.prototype.has=ua;ze.prototype.set=ca;var da=Dn(kt,"Map");const fa=da;function ma(){this.size=0,this.__data__={hash:new Ve,map:new(fa||ze),string:new Ve}}function pa(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function et(e,t){var n=e.__data__;return pa(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ha(e){var t=et(this,e).delete(e);return this.size-=t?1:0,t}function va(e){return et(this,e).get(e)}function ya(e){return et(this,e).has(e)}function ga(e,t){var n=et(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function Se(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Se.prototype.clear=ma;Se.prototype.delete=ha;Se.prototype.get=va;Se.prototype.has=ya;Se.prototype.set=ga;var _a="Expected a function";function xt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_a);var n=function(){var o=arguments,s=t?t.apply(this,o):o[0],i=n.cache;if(i.has(s))return i.get(s);var r=e.apply(this,o);return n.cache=i.set(s,r)||i,r};return n.cache=new(xt.Cache||Se),n}xt.Cache=Se;var ba=500;function $a(e){var t=xt(e,function(o){return n.size===ba&&n.clear(),o}),n=t.cache;return t}var ka=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wa=/\\(\\)?/g,Ca=$a(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ka,function(n,o,s,i){t.push(s?i.replace(wa,"$1"):o||n)}),t});const xa=Ca;function Va(e){return e==null?"":Mn(e)}function Sa(e,t){return Ct(e)?e:Kr(e,t)?[e]:xa(Va(e))}var Oa=1/0;function Ma(e){if(typeof e=="string"||wt(e))return e;var t=e+"";return t=="0"&&1/e==-Oa?"-0":t}function La(e,t){t=Sa(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[Ma(t[n++])];return n&&n==o?e:void 0}function Da(e,t,n){var o=e==null?void 0:La(e,t);return o===void 0?n:o}function Ia(e){for(var t=-1,n=e==null?0:e.length,o={};++t<n;){var s=e[t];o[s[0]]=s[1]}return o}const Aa=e=>e===void 0,Ee=e=>typeof e=="number",za=e=>typeof Element>"u"?!1:e instanceof Element,ja=e=>Ge(e)?!Number.isNaN(Number(e)):!1,Ht=e=>Object.keys(e);function Na(e,t="px"){if(!e)return"";if(Ee(e)||ja(e))return`${e}${t}`;if(Ge(e))return e}/*! Element Plus Icons Vue v2.3.1 */var Ta=E({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(d(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[w("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),In=Ta,Ea=E({name:"Close",__name:"close",setup(e){return(t,n)=>(d(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[w("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Ba=Ea,Ua=E({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(d(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[w("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),An=Ua,Pa=E({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(d(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[w("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),zn=Pa,Fa=E({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(d(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[w("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),jn=Fa;const Nn="__epPropKey",_e=e=>e,Ha=e=>Vn(e)&&!!e[Nn],Tn=(e,t)=>{if(!Vn(e)||Ha(e))return e;const{values:n,required:o,default:s,type:i,validator:r}=e,y={type:i,required:!!o,validator:n||r?m=>{let b=!1,g=[];if(n&&(g=Array.from(n),Et(e,"default")&&g.push(s),b||(b=g.includes(m))),r&&(b||(b=r(m))),!b&&g.length>0){const C=[...new Set(g)].map(h=>JSON.stringify(h)).join(", ");eo(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${C}], got value ${JSON.stringify(m)}.`)}return b}:void 0,[Nn]:!0};return Et(e,"default")&&(y.default=s),y},tt=e=>Ia(Object.entries(e).map(([t,n])=>[t,Tn(n,t)])),Ra=_e([String,Object,Function]),Ka={Close:Ba,SuccessFilled:zn,InfoFilled:An,WarningFilled:jn,CircleCloseFilled:In},Rt={success:zn,warning:jn,error:In,info:An},En=(e,t)=>{if(e.install=n=>{for(const o of[e,...Object.values(t??{})])n.component(o.name,o)},t)for(const[n,o]of Object.entries(t))e[n]=o;return e},qa=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),Ja={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Wa=["","default","small","large"],Ga=e=>e;var Ya={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Za=e=>(t,n)=>Xa(t,n,c(e)),Xa=(e,t,n)=>Da(n,e,e).replace(/\{(\w+)\}/g,(o,s)=>{var i;return`${(i=t==null?void 0:t[s])!=null?i:`{${s}}`}`}),Qa=e=>{const t=A(()=>c(e).name),n=oe(e)?e:R(e);return{lang:t,locale:n,t:Za(e)}},Bn=Symbol("localeContextKey"),eu=e=>{const t=e||Ue(Bn,R());return Qa(A(()=>t.value||Ya))},We="el",tu="is-",Ce=(e,t,n,o,s)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),o&&(i+=`__${o}`),s&&(i+=`--${s}`),i},Un=Symbol("namespaceContextKey"),nu=e=>{const t=e||(we()?Ue(Un,R(We)):R(We));return A(()=>c(t)||We)},Vt=(e,t)=>{const n=nu(t);return{namespace:n,b:($="")=>Ce(n.value,e,$,"",""),e:$=>$?Ce(n.value,e,"",$,""):"",m:$=>$?Ce(n.value,e,"","",$):"",be:($,l)=>$&&l?Ce(n.value,e,$,l,""):"",em:($,l)=>$&&l?Ce(n.value,e,"",$,l):"",bm:($,l)=>$&&l?Ce(n.value,e,$,"",l):"",bem:($,l,a)=>$&&l&&a?Ce(n.value,e,$,l,a):"",is:($,...l)=>{const a=l.length>=1?l[0]:!0;return $&&a?`${tu}${$}`:""},cssVar:$=>{const l={};for(const a in $)$[a]&&(l[`--${n.value}-${a}`]=$[a]);return l},cssVarName:$=>`--${n.value}-${$}`,cssVarBlock:$=>{const l={};for(const a in $)$[a]&&(l[`--${n.value}-${e}-${a}`]=$[a]);return l},cssVarBlockName:$=>`--${n.value}-${e}-${$}`}},Kt=R(0),Pn=2e3,Fn=Symbol("zIndexContextKey"),ou=e=>{const t=e||(we()?Ue(Fn,void 0):void 0),n=A(()=>{const i=c(t);return Ee(i)?i:Pn}),o=A(()=>n.value+Kt.value);return{initialZIndex:n,currentZIndex:o,nextZIndex:()=>(Kt.value++,o.value)}},su=Tn({type:String,values:Wa,required:!1}),lu=Symbol("size"),Hn=Symbol(),Ye=R();function Rn(e,t=void 0){const n=we()?Ue(Hn,Ye):Ye;return e?A(()=>{var o,s;return(s=(o=n.value)==null?void 0:o[e])!=null?s:t}):n}function iu(e,t){const n=Rn(),o=Vt(e,A(()=>{var u;return((u=n.value)==null?void 0:u.namespace)||We})),s=eu(A(()=>{var u;return(u=n.value)==null?void 0:u.locale})),i=ou(A(()=>{var u;return((u=n.value)==null?void 0:u.zIndex)||Pn})),r=A(()=>{var u;return c(t)||((u=n.value)==null?void 0:u.size)||""});return Kn(A(()=>c(n)||{})),{ns:o,locale:s,zIndex:i,size:r}}const Kn=(e,t,n=!1)=>{var o;const s=!!we(),i=s?Rn():void 0,r=(o=t==null?void 0:t.provide)!=null?o:s?en:void 0;if(!r)return;const u=A(()=>{const y=c(e);return i!=null&&i.value?ru(i.value,y):y});return r(Hn,u),r(Bn,A(()=>u.value.locale)),r(Un,A(()=>u.value.namespace)),r(Fn,A(()=>u.value.zIndex)),r(lu,{size:A(()=>u.value.size||"")}),(n||!Ye.value)&&(Ye.value=u.value),u},ru=(e,t)=>{var n;const o=[...new Set([...Ht(e),...Ht(t)])],s={};for(const i of o)s[i]=(n=t[i])!=null?n:e[i];return s},au=tt({a11y:{type:Boolean,default:!0},locale:{type:_e(Object)},size:su,button:{type:_e(Object)},experimentalFeatures:{type:_e(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:_e(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),ct={};E({name:"ElConfigProvider",props:au,setup(e,{slots:t}){le(()=>e.message,o=>{Object.assign(ct,o??{})},{immediate:!0,deep:!0});const n=Kn(e);return()=>O(t,"default",{config:n==null?void 0:n.value})}});var St=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};const uu=tt({size:{type:_e([Number,String])},color:{type:String}}),cu=E({name:"ElIcon",inheritAttrs:!1}),du=E({...cu,props:uu,setup(e){const t=e,n=Vt("icon"),o=A(()=>{const{size:s,color:i}=t;return!s&&!i?{}:{fontSize:Aa(s)?void 0:Na(s),"--color":i}});return(s,i)=>(d(),_("i",pe({class:c(n).b(),style:c(o)},s.$attrs),[O(s.$slots,"default")],16))}});var fu=St(du,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const qt=En(fu),mu=tt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),pu=["textContent"],hu=E({name:"ElBadge"}),vu=E({...hu,props:mu,setup(e,{expose:t}){const n=e,o=Vt("badge"),s=A(()=>n.isDot?"":Ee(n.value)&&Ee(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return t({content:s}),(i,r)=>(d(),_("div",{class:B(c(o).b())},[O(i.$slots,"default"),V(tn,{name:`${c(o).namespace.value}-zoom-in-center`,persisted:""},{default:v(()=>[Ae(w("sup",{class:B([c(o).e("content"),c(o).em("content",i.type),c(o).is("fixed",!!i.$slots.default),c(o).is("dot",i.isDot)]),textContent:j(c(s))},null,10,pu),[[ft,!i.hidden&&(c(s)||i.isDot)]])]),_:1},8,["name"])],2))}});var yu=St(vu,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const gu=En(yu),qn=["success","info","warning","error"],ne=Ga({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ln?document.body:void 0}),_u=tt({customClass:{type:String,default:ne.customClass},center:{type:Boolean,default:ne.center},dangerouslyUseHTMLString:{type:Boolean,default:ne.dangerouslyUseHTMLString},duration:{type:Number,default:ne.duration},icon:{type:Ra,default:ne.icon},id:{type:String,default:ne.id},message:{type:_e([String,Object,Function]),default:ne.message},onClose:{type:_e(Function),required:!1},showClose:{type:Boolean,default:ne.showClose},type:{type:String,values:qn,default:ne.type},offset:{type:Number,default:ne.offset},zIndex:{type:Number,default:ne.zIndex},grouping:{type:Boolean,default:ne.grouping},repeatNum:{type:Number,default:ne.repeatNum}}),bu={destroy:()=>!0},re=to([]),$u=e=>{const t=re.findIndex(s=>s.id===e),n=re[t];let o;return t>0&&(o=re[t-1]),{current:n,prev:o}},ku=e=>{const{prev:t}=$u(e);return t?t.vm.exposed.bottom.value:0},wu=(e,t)=>re.findIndex(o=>o.id===e)>0?20:t,Cu=["id"],xu=["innerHTML"],Vu=E({name:"ElMessage"}),Su=E({...Vu,props:_u,emits:bu,setup(e,{expose:t}){const n=e,{Close:o}=Ka,{ns:s,zIndex:i}=iu("message"),{currentZIndex:r,nextZIndex:u}=i,y=R(),m=R(!1),b=R(0);let g;const C=A(()=>n.type?n.type==="error"?"danger":n.type:"info"),h=A(()=>{const I=n.type;return{[s.bm("icon",I)]:I&&Rt[I]}}),k=A(()=>n.icon||Rt[n.type]||""),$=A(()=>ku(n.id)),l=A(()=>wu(n.id,n.offset)+$.value),a=A(()=>b.value+l.value),f=A(()=>({top:`${l.value}px`,zIndex:r.value}));function p(){n.duration!==0&&({stop:g}=uo(()=>{S()},n.duration))}function x(){g==null||g()}function S(){m.value=!1}function T({code:I}){I===Ja.esc&&S()}return no(()=>{p(),u(),m.value=!0}),le(()=>n.repeatNum,()=>{x(),p()}),lt(document,"keydown",T),ao(y,()=>{b.value=y.value.getBoundingClientRect().height}),t({visible:m,bottom:a,close:S}),(I,P)=>(d(),L(tn,{name:c(s).b("fade"),onBeforeLeave:I.onClose,onAfterLeave:P[0]||(P[0]=W=>I.$emit("destroy")),persisted:""},{default:v(()=>[Ae(w("div",{id:I.id,ref_key:"messageRef",ref:y,class:B([c(s).b(),{[c(s).m(I.type)]:I.type&&!I.icon},c(s).is("center",I.center),c(s).is("closable",I.showClose),I.customClass]),style:Xe(c(f)),role:"alert",onMouseenter:x,onMouseleave:p},[I.repeatNum>1?(d(),L(c(gu),{key:0,value:I.repeatNum,type:c(C),class:B(c(s).e("badge"))},null,8,["value","type","class"])):U("v-if",!0),c(k)?(d(),L(c(qt),{key:1,class:B([c(s).e("icon"),c(h)])},{default:v(()=>[(d(),L(Ze(c(k))))]),_:1},8,["class"])):U("v-if",!0),O(I.$slots,"default",{},()=>[I.dangerouslyUseHTMLString?(d(),_(z,{key:1},[U(" Caution here, message could've been compromised, never use user's input as message "),w("p",{class:B(c(s).e("content")),innerHTML:I.message},null,10,xu)],2112)):(d(),_("p",{key:0,class:B(c(s).e("content"))},j(I.message),3))]),I.showClose?(d(),L(c(qt),{key:2,class:B(c(s).e("closeBtn")),onClick:fe(S,["stop"])},{default:v(()=>[V(c(o))]),_:1},8,["class","onClick"])):U("v-if",!0)],46,Cu),[[ft,m.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Ou=St(Su,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Mu=1;const Jn=e=>{const t=!e||Ge(e)||nn(e)||ut(e)?{message:e}:e,n={...ne,...t};if(!n.appendTo)n.appendTo=document.body;else if(Ge(n.appendTo)){let o=document.querySelector(n.appendTo);za(o)||(o=document.body),n.appendTo=o}return n},Lu=e=>{const t=re.indexOf(e);if(t===-1)return;re.splice(t,1);const{handler:n}=e;n.close()},Du=({appendTo:e,...t},n)=>{const o=`message_${Mu++}`,s=t.onClose,i=document.createElement("div"),r={...t,id:o,onClose:()=>{s==null||s(),Lu(b)},onDestroy:()=>{Dt(null,i)}},u=V(Ou,r,ut(r.message)||nn(r.message)?{default:ut(r.message)?r.message:()=>r.message}:null);u.appContext=n||Ie._context,Dt(u,i),e.appendChild(i.firstElementChild);const y=u.component,b={id:o,vnode:u,vm:y,handler:{close:()=>{y.exposed.visible.value=!1}},props:u.component.props};return b},Ie=(e={},t)=>{if(!ln)return{close:()=>{}};if(Ee(ct.max)&&re.length>=ct.max)return{close:()=>{}};const n=Jn(e);if(n.grouping&&re.length){const s=re.find(({vnode:i})=>{var r;return((r=i.props)==null?void 0:r.message)===n.message});if(s)return s.props.repeatNum+=1,s.props.type=n.type,s.handler}const o=Du(n,t);return re.push(o),o.handler};qn.forEach(e=>{Ie[e]=(t={},n)=>{const o=Jn(t);return Ie({...o,type:e},n)}});function Iu(e){for(const t of re)(!e||e===t.props.type)&&t.handler.close()}Ie.closeAll=Iu;Ie._context=null;const Au=qa(Ie,"$message"),zu={class:"k-menu-icon"},ju={class:"k-menu-icon"},Nu={class:"k-menu-icon"},Tu=w("div",null,null,-1),Jt=E({inheritAttrs:!1,__name:"schema",props:{schema:{},initial:{},modelValue:{},extra:{},disabled:Boolean,branch:Boolean,prefix:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,s=R(),i=R(!1),r=R(""),u=R("");le(()=>n.modelValue,l=>{r.value=JSON.stringify(l??Ne(n.schema),null,2)},{immediate:!0}),le(r,l=>{u.value="";try{const a=JSON.parse(l);Le(n.schema)(a)}catch{u.value=k("edit.invalid")}});async function y(){await navigator.clipboard.writeText(r.value),Au.success(k("edit.copied"))}function m(){o("update:modelValue",Le(n.schema).simplify(JSON.parse(r.value))),i.value=!1}const b=he(),g=A(()=>{var l;return n.disabled||((l=n.schema)==null?void 0:l.meta.disabled)}),C=A(()=>{var l;return["string","number","boolean"].includes((l=n.schema)==null?void 0:l.type)&&(Y(n.modelValue)||typeof n.modelValue===n.schema.type)}),h=A(()=>{const l=[...pn].map(a=>{var f,p;if(!(a.type&&((f=n.schema)==null?void 0:f.type)!==a.type)&&!(a.role&&((p=n.schema)==null?void 0:p.meta.role)!==a.role)&&!(a.validate&&!(Y(n.modelValue)||a.validate(n.modelValue,n.schema))))return[a.component,+!!a.type+ +!!a.role]}).filter(Boolean).sort((a,f)=>f[1]-a[1]);return l.push([ce,0]),l[0][0]}),{t:k,setLocaleMessage:$}=se({messages:{"zh-CN":ae,"en-US":ue}});return(l,a)=>{var T,I,P,W,G,q,X;const f=D("k-markdown"),p=D("el-input"),x=D("el-button"),S=D("el-dialog");return d(),_(z,null,[!((T=e.schema)!=null&&T.meta.hidden)&&((I=e.extra)!=null&&I.foldable||e.schema&&e.schema.type!=="const")?(d(),L(c(h),pe({key:0},l.$attrs,{schema:e.schema,prefix:e.prefix,initial:e.initial,disabled:g.value,extra:e.extra,modelValue:e.modelValue,"onUpdate:modelValue":a[4]||(a[4]=K=>l.$emit("update:modelValue",K)),class:{changed:((P=e.extra)==null?void 0:P.changed)??!c($e)(e.initial,e.modelValue),required:((W=e.extra)==null?void 0:W.required)??(((G=e.schema)==null?void 0:G.meta.required)&&c(Y)((q=e.schema)==null?void 0:q.meta.default)&&c(Y)(e.modelValue)),invalid:(X=e.extra)==null?void 0:X.invalid}}),{title:v(()=>[O(l.$slots,"title")]),menu:v(()=>[w("div",{class:"k-menu-item",onClick:a[0]||(a[0]=K=>i.value=!0)},[w("span",zu,[V(c(Ss))]),N(" "+j(c(k)("edit.json")),1)]),w("div",{class:B(["k-menu-item",{disabled:g.value||c($e)(e.initial,e.modelValue)}]),onClick:a[1]||(a[1]=K=>l.$emit("update:modelValue",c(xe)(e.initial)))},[w("span",ju,[V(c(Zl))]),N(" "+j(c(k)("initial")),1)],2),w("div",{class:B(["k-menu-item",{disabled:g.value||c(Y)(e.modelValue)}]),onClick:a[2]||(a[2]=K=>l.$emit("update:modelValue",null))},[w("span",Nu,[V(c(jl))]),N(" "+j(c(k)("default")),1)],2),O(l.$slots,"menu")]),desc:v(()=>[O(l.$slots,"desc",{},()=>{var K;return[V(f,{source:c(b)((K=e.schema)==null?void 0:K.meta.description)},null,8,["source"])]})]),collapse:v(()=>[O(l.$slots,"collapse")]),prefix:v(()=>[O(l.$slots,"prefix")]),suffix:v(()=>[O(l.$slots,"suffix")]),control:v(()=>[C.value?(d(),L($t,{key:0,schema:e.schema,disabled:g.value,modelValue:e.modelValue,"onUpdate:modelValue":a[3]||(a[3]=K=>l.$emit("update:modelValue",K))},null,8,["schema","disabled","modelValue"])):U("v-if",!0)]),_:3},16,["schema","prefix","initial","disabled","extra","modelValue","class"])):U("v-if",!0),V(S,{modelValue:i.value,"onUpdate:modelValue":a[6]||(a[6]=K=>i.value=K),"destroy-on-close":"","append-to-body":"",class:"k-schema-edit-dialog",title:c(k)("edit.json"),onOpen:a[7]||(a[7]=K=>{var ee;return(ee=s.value)==null?void 0:ee.focus()})},{footer:v(()=>[Tu,w("div",null,[V(x,{onClick:y},{default:v(()=>[N(j(c(k)("edit.copy")),1)]),_:1}),V(x,{type:"primary",disabled:!!u.value,onClick:m},{default:v(()=>[N(j(c(k)("edit.save")),1)]),_:1},8,["disabled"])])]),default:v(()=>[V(p,{ref_key:"input",ref:s,type:"textarea",class:B({invalid:u.value}),autosize:{minRows:2,maxRows:10},modelValue:r.value,"onUpdate:modelValue":a[5]||(a[5]=K=>r.value=K)},null,8,["class","modelValue"])]),_:1},8,["modelValue","title"])],64)}}}),Eu={class:"k-form"},Bu={key:0,class:"k-schema-header"},Wt=E({__name:"form",props:{schema:{},initial:{},modelValue:{},disabled:Boolean,showHeader:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=he(),s=A(()=>n.schema&&new Le(n.schema));function i(g){for(const C of g){const[h,k]=r(C);if(!h)return[!1,!1];if(!k)return[!0,!1]}return[!0,!0]}function r(g){if(!g)return[!0,!0];if(g.meta.hidden)return[!0,!0];if(g.type==="object")return o(g.meta.description)?[!0,!1]:i(Object.entries(g.dict).filter(([,C])=>!C.meta.hidden).map(([,C])=>C));if(g.type==="intersect")return i(g.list);if(g.type==="union"){const C=He(g);return C.length===1?r(C[0]):[!1,!1]}else return[!1,!1]}const y=A({get:()=>n.modelValue,set:t.bind(null,"update:modelValue")}),{t:m,setLocaleMessage:b}=se({messages:{"zh-CN":ae,"en-US":ue}});return(g,C)=>{const h=D("k-schema");return d(),_("form",Eu,[e.showHeader||!r(s.value)[0]?(d(),_("h2",Bu,[O(g.$slots,"title",{},()=>[N(j(c(m)("title")),1)])])):U("v-if",!0),O(g.$slots,"before"),V(h,{modelValue:y.value,"onUpdate:modelValue":C[0]||(C[0]=k=>y.value=k),initial:e.initial,schema:s.value,disabled:e.disabled},null,8,["modelValue","initial","schema","disabled"]),O(g.$slots,"after")])}}});const te=Object.assign(ce,{Form:Wt,Badge:Tt,Schema:Jt,useModel:ye,useEntries:ht,useDisabled:ls,extensions:pn,install(e){e.component("k-form",Wt),e.component("k-badge",Tt),e.component("k-schema",Jt)}});te.extensions.add({type:"bitset",role:"select",component:Cn,validate:e=>typeof e=="number"||Array.isArray(e)&&e.every(t=>typeof t=="string")});te.extensions.add({type:"array",role:"select",component:Cn,validate:e=>Array.isArray(e)&&e.every(t=>typeof t=="string")});te.extensions.add({type:"bitset",component:kn,validate:e=>typeof e=="number"||Array.isArray(e)&&e.every(t=>typeof t=="string")});te.extensions.add({type:"array",role:"checkbox",component:kn,validate:e=>Array.isArray(e)&&e.every(t=>typeof t=="string")});te.extensions.add({type:"array",component:wn,validate:e=>Array.isArray(e)});te.extensions.add({type:"dict",component:wn,validate:e=>typeof e=="object"});te.extensions.add({type:"object",component:ji,validate:e=>typeof e=="object"});te.extensions.add({type:"intersect",component:Ii,validate:e=>typeof e=="object"});te.extensions.add({type:"union",role:"radio",component:Ti});te.extensions.add({type:"array",role:"table",component:xn,validate:(e,t)=>Array.isArray(e)&&!!yt(t.inner)});te.extensions.add({type:"dict",role:"table",component:xn,validate:(e,t)=>typeof e=="object"&&!!yt(t.inner)});te.extensions.add({type:"string",role:"textarea",component:tr,validate:e=>typeof e=="string"});te.extensions.add({type:"tuple",component:nr,validate:e=>Array.isArray(e)});te.extensions.add({type:"union",component:or});const Uu={key:1,class:"k-filter-expr"},Pu=E({__name:"k-filter-expr",props:{modelValue:{},disabled:{type:Boolean},options:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,s=R(),i=R(),r=R(),u=R(!1);function y(h){var k,$;return h.startsWith("user.")?($=(k=n.options)==null?void 0:k.userFields)==null?void 0:$.includes(h.slice(5)):!0}const m={isDirect:"是否私聊",userId:"用户 ID",guildId:"群组 ID",channelId:"频道 ID",selfId:"机器人 ID",platform:"平台","user.authority":"用户权限"},b={$in:"属于",$nin:"不属于",$eq:"等于",$ne:"不等于",$gt:"大于",$lt:"小于",$gte:"不小于",$lte:"不大于"},g=A(()=>s.value==="user.authority"?["$eq","$ne","$gt","$lt","$gte","$lte"]:s.value?["$eq","$ne","$in","$nin"]:[]);le(()=>n.modelValue,()=>{i.value=Object.keys(n.modelValue)[0];const h=n.modelValue[i.value];h&&(s.value=h[0].$,r.value=Array.isArray(h[1])?h[1].join(", "):s.value==="user.authority"?+h[1]:h[1])},{immediate:!0});const C=A(()=>s.value==="user.authority"?"number":"string");return le(s,()=>{r.value=null,g.value.includes(i.value)||(i.value=g.value[0])}),le([s,i,r,u],([h,k,$,l])=>{if(!m[h])return;if(h==="isDirect")return o("update:modelValue",{$eq:[{$:h},l]});if(!b[k]||!$)return;let a=$;["$in","$nin"].includes(k)?a=$.split(/\s*,\s*/g).filter(Boolean):h==="user.authority"&&(a=+$),o("update:modelValue",{[k]:[{$:h},a]})}),(h,k)=>{const $=D("el-option"),l=D("el-select"),a=D("el-switch"),f=D("el-input");return i.value&&!b[i.value]?(d(),_(z,{key:0},[N(" 无法解析的此处的表达式。 ")],64)):(d(),_("div",Uu,[V(l,{class:"entity",disabled:h.disabled,modelValue:s.value,"onUpdate:modelValue":k[0]||(k[0]=p=>s.value=p)},{default:v(()=>[(d(),_(z,null,H(m,(p,x)=>(d(),_(z,{key:x},[y(x)?(d(),L($,{key:0,label:p,value:x},null,8,["label","value"])):U("v-if",!0)],64))),64))]),_:1},8,["disabled","modelValue"]),s.value==="isDirect"?(d(),L(a,{key:0,modelValue:u.value,"onUpdate:modelValue":k[1]||(k[1]=p=>u.value=p)},null,8,["modelValue"])):s.value?(d(),_(z,{key:1},[V(l,{class:"operator",disabled:h.disabled,modelValue:i.value,"onUpdate:modelValue":k[2]||(k[2]=p=>i.value=p)},{default:v(()=>[(d(!0),_(z,null,H(g.value,p=>(d(),L($,{key:p,label:b[p],value:p},null,8,["label","value"]))),128))]),_:1},8,["disabled","modelValue"]),(d(),L(f,{disabled:h.disabled,key:C.value,type:C.value,class:"value",modelValue:r.value,"onUpdate:modelValue":k[3]||(k[3]=p=>r.value=p)},null,8,["disabled","type","modelValue"]))],64)):U("v-if",!0)]))}}});const Fu={key:0},Hu={key:1,class:"k-filter"},Ru=E({__name:"k-filter",props:{modelValue:{},disabled:{type:Boolean},options:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,s=A(()=>{const m=i(n.modelValue,"$or");if(!m)return!0;for(const b of m)if(!i(b,"$and"))return!0});function i(m,b){return m?Array.isArray(m[b])?m[b]:[m]:[]}function r(m,b){if(m=m.filter(Boolean),m.length)return m.length===1?m[0]:{[b]:m}}function u(m,b,g){const C=i(n.modelValue,"$or").slice(),h=i(C[g],"$and").slice();h[b]=m,C[g]=r(h,"$and"),o("update:modelValue",r(C,"$or"))}function y(m,b){const g=i(n.modelValue,"$or").slice(),C=i(g[b],"$and").slice();C[m]=void 0,g[b]=r(C,"$and"),o("update:modelValue",r(g,"$or"))}return(m,b)=>{const g=D("k-icon"),C=D("el-button");return s.value?(d(),_("p",Fu,"无法解析过滤器。")):(d(),_("div",Hu,[(d(!0),_(z,null,H(i(m.modelValue,"$or"),(h,k)=>(d(),_("div",{key:k},[(d(!0),_(z,null,H(i(h,"$and"),($,l)=>(d(),_("div",{class:"k-filter-item",key:l},[V(C,{disabled:m.disabled,onClick:a=>y(l,k)},{default:v(()=>[V(g,{name:"delete"})]),_:2},1032,["disabled","onClick"]),V(Pu,{disabled:m.disabled,options:m.options,modelValue:$,"onUpdate:modelValue":a=>u(a,l,k)},null,8,["disabled","options","modelValue","onUpdate:modelValue"])]))),128)),w("div",null,[V(C,{onClick:$=>u({},i(h,"$and").length,k)},{default:v(()=>[N("添加「与」条件")]),_:2},1032,["onClick"])])]))),128)),w("div",null,[V(C,{onClick:b[0]||(b[0]=h=>u({},0,i(m.modelValue,"$or").length))},{default:v(()=>[N(j(i(m.modelValue,"$or").length?"添加「或」条件":"添加条件"),1)]),_:1})])]))}}});const Ku=E({__name:"k-filter-button",props:{modelValue:{},disabled:{type:Boolean},options:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,s=R(!1),i=A({get:()=>n.modelValue,set:b=>o("update:modelValue",b)}),r={userId:"用户 ID",guildId:"群组 ID",channelId:"频道 ID",selfId:"机器人 ID",platform:"平台","user.authority":"用户权限"},u={$in:"属于",$nin:"不属于",$eq:"等于",$ne:"不等于",$gt:"大于",$lt:"小于",$gte:"不小于",$lte:"不大于"};function y(b){if(!b)return"";if(b.$and)return b.$and.map(y).filter(Boolean).join(" 且 ");if(b.$or)return b.$or.map(y).filter(Boolean).join(" 或 ");{const g=Object.keys(b)[0];if(!b[g])return"";const[C,h]=b[g];return`${r[C.$]} ${u[g]} ${h}`}}const m=A(()=>y(i.value)||"无");return(b,g)=>{const C=D("el-dialog");return d(),_(z,null,[w("span",{class:"k-filter-button",onClick:g[0]||(g[0]=h=>s.value=!0)},j(m.value),1),V(C,{modelValue:s.value,"onUpdate:modelValue":g[2]||(g[2]=h=>s.value=h),"destroy-on-close":""},{header:v(()=>[N("条件设置")]),default:v(()=>[V(Ru,{modelValue:i.value,"onUpdate:modelValue":g[1]||(g[1]=h=>i.value=h),options:b.options,disabled:b.disabled},null,8,["modelValue","options","disabled"])]),_:1},8,["modelValue"])],64)}}}),qu=w("div",{class:"k-menu-separator"},null,-1),Ju={class:"k-menu-icon"},Wu=w("div",{class:"k-menu-separator"},null,-1),Gu=["onClick"],Yu={class:"k-menu-icon"},Zu=["onClick"],Xu={class:"k-menu-icon"},Qu=["onClick"],ec={class:"k-menu-icon"},tc=["onClick"],nc={class:"k-menu-icon"},oc=["onClick"],sc={class:"k-menu-icon"},lc=w("span",null,"当满足条件：",-1),ic=w("span",null,"其他情况下",-1),rc=E({__name:"computed",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{},extra:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,s=A(()=>{var r,u;return((r=n.schema)==null?void 0:r.meta.role)==="computed"&&((u=n.modelValue)==null?void 0:u.$switch)}),i={up(r){const u=n.modelValue.$switch.branches.slice();u.splice(r-1,0,...u.splice(r,1)),o("update:modelValue",{$switch:{...n.modelValue.$switch,branches:u}})},down(r){const u=n.modelValue.$switch.branches.slice();u.splice(r+1,0,...u.splice(r,1)),o("update:modelValue",{$switch:{...n.modelValue.$switch,branches:u}})},delete(r){const u=n.modelValue.$switch.branches.slice();u.length>1?(u.splice(r,1),o("update:modelValue",{$switch:{...n.modelValue.$switch,branches:u}})):o("update:modelValue",n.modelValue.$switch.default)},update(r,u,y){const m=n.modelValue.$switch.branches.slice();m[r]={...m[r],[u]:y},o("update:modelValue",{$switch:{...n.modelValue.$switch,branches:m}})},insert(r=(y=>(y=(u=>(u=n.modelValue)==null?void 0:u.$switch)())==null?void 0:y.branches.length)()){var m;if((m=n.modelValue)!=null&&m.$switch){const b=n.modelValue.$switch.branches.slice();b.splice(r,0,{case:null,then:null}),o("update:modelValue",{$switch:{...n.modelValue.$switch,branches:b}})}else o("update:modelValue",{$switch:{branches:[{case:null,then:null}],default:xe(n.modelValue)}})},default(r){o("update:modelValue",{$switch:{...n.modelValue.$switch,default:r}})}};return(r,u)=>{const y=D("k-markdown"),m=D("el-button"),b=D("k-schema");return d(),L(b,pe(r.$attrs,{schema:{...e.schema.list[0],meta:{...e.schema.meta,...e.schema.list[0].meta}},modelValue:e.modelValue,"onUpdate:modelValue":u[2]||(u[2]=g=>o("update:modelValue",g)),disabled:e.disabled,prefix:e.prefix,initial:e.initial,collapsible:s.value?{initial:!1}:null}),mt({title:v(()=>[O(r.$slots,"title")]),desc:v(()=>[V(y,{source:e.schema.meta.description},null,8,["source"])]),menu:v(()=>[qu,w("div",{class:"k-menu-item",onClick:u[0]||(u[0]=g=>i.insert())},[w("span",Ju,[V(c($s))]),N(" 添加分支 ")])]),prefix:v(()=>[O(r.$slots,"prefix")]),suffix:v(()=>[s.value?(d(),L(m,{key:0,onClick:u[1]||(u[1]=g=>i.insert())},{default:v(()=>[N("添加分支")]),_:1})):U("v-if",!0)]),_:2},[s.value?{name:"collapse",fn:v(()=>{var g;return[(d(!0),_(z,null,H(e.modelValue.$switch.branches,(C,h)=>(d(),L(b,{modelValue:e.modelValue.$switch.branches[h].then,"onUpdate:modelValue":k=>i.update(h,"then",k),key:h,schema:{...e.schema.list[0],meta:{...e.schema.meta,...e.schema.list[0].meta,description:null}},disabled:e.disabled},{menu:v(()=>[Wu,w("div",{class:B(["k-menu-item",{disabled:e.disabled||!h}]),onClick:k=>i.up(h)},[w("span",Yu,[V(c(_t))]),N(" 上移分支 ")],10,Gu),w("div",{class:B(["k-menu-item",{disabled:e.disabled||h===e.modelValue.$switch.branches.length-1}]),onClick:k=>i.down(h)},[w("span",Xu,[V(c(gt))]),N(" 下移分支 ")],10,Zu),w("div",{class:B(["k-menu-item",{disabled:e.disabled}]),onClick:k=>i.delete(h)},[w("span",ec,[V(c(bt))]),N(" 删除分支 ")],10,Qu),w("div",{class:B(["k-menu-item",{disabled:e.disabled}]),onClick:k=>i.insert(h)},[w("span",nc,[V(c(gn))]),N(" 在上方插入分支 ")],10,tc),w("div",{class:B(["k-menu-item",{disabled:e.disabled}]),onClick:k=>i.insert(h+1)},[w("span",sc,[V(c(yn))]),N(" 在下方插入分支 ")],10,oc)]),title:v(()=>[lc,V(Ku,{modelValue:e.modelValue.$switch.branches[h].case,"onUpdate:modelValue":k=>i.update(h,"case",k),options:e.schema.meta.extra,disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","options","disabled"])]),_:2},1032,["modelValue","onUpdate:modelValue","schema","disabled"]))),128)),V(b,{modelValue:e.modelValue.$switch.default,"onUpdate:modelValue":i.default,schema:{...e.schema.list[0],meta:{...e.schema.meta,...e.schema.list[0].meta,description:null}},disabled:e.disabled,initial:(g=e.initial)!=null&&g.$switch?e.initial.$switch.default:e.initial},{title:v(()=>[ic]),_:1},8,["modelValue","onUpdate:modelValue","schema","disabled","initial"])]}),key:"0"}:void 0]),1040,["schema","modelValue","disabled","prefix","initial","collapsible"])}}});te.extensions.add({type:"union",role:"computed",component:rc});const ac=e=>({mounted(t){e.value=t},updated(t){e.value=t},beforeUnmount(){e.value=null}});function Wn(e){if(!e)return null;for(const t of e){if(typeof t=="object")switch(t.type){case so:continue;case oo:break;case z:return Wn(t.children);default:return typeof t.type=="string",t}return lo("span",t)}}E({props:{class:{}},emits:["resize"],setup(e,{attrs:t,slots:n,emit:o}){let s;const i=R();le(i,y=>{s==null||s.disconnect(),y&&(s=new ResizeObserver(r),s.observe(y))});function r(){if(!i.value)return;const y=+getComputedStyle(i.value).marginTop.slice(0,-2);o("resize",i.value.offsetHeight+y)}const u=ac(i);return()=>{var m;const y=Wn((m=n.default)==null?void 0:m.call(n,t));return Ae(y,[[u]])}}});const uc=["theme"],cc=w("div",{class:"theme-block-1"},null,-1),dc=w("div",{class:"theme-block-2"},null,-1),fc=w("div",{class:"theme-block-3"},null,-1),mc={class:"theme-title"},pc=E({__name:"theme",props:{schema:{},modelValue:{},disabled:{},prefix:{},initial:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t,o=me(),s=Gn(),i=te.useModel(),r=A({get(){var u;return s((u=o.internal.themes[i.value])==null?void 0:u.name)},set(u){n("update:modelValue",u)}});return(u,y)=>{const m=D("el-option"),b=D("el-select");return d(),L(c(te),null,{title:v(()=>[O(u.$slots,"title")]),desc:v(()=>[O(u.$slots,"desc")]),menu:v(()=>[O(u.$slots,"menu")]),prefix:v(()=>[O(u.$slots,"prefix")]),suffix:v(()=>[O(u.$slots,"suffix")]),control:v(()=>[V(b,{"popper-class":"theme-select",modelValue:r.value,"onUpdate:modelValue":y[0]||(y[0]=g=>r.value=g)},{default:v(()=>[(d(!0),_(z,null,H(c(o).internal.themes,(g,C)=>(d(),_(z,{key:C},[C.endsWith("-"+e.schema.meta.extra.mode)?(d(),L(m,{key:0,value:C},{default:v(()=>[w("div",{class:B(["theme-root",C.endsWith("-dark")?"dark":"light"]),theme:C},[cc,dc,fc,w("div",mc,j(c(s)(c(o).internal.themes[C].name)),1)],10,uc)]),_:2},1032,["value"])):U("v-if",!0)],64))),128))]),_:1},8,["modelValue"])]),_:3})}}});function hc(e){e.page({path:"/settings/:name*",name:"用户设置",icon:"activity:settings",position:"bottom",order:-100,component:Lo}),e.schema({type:"string",role:"theme",component:pc}),e.settings({id:"status",title:"状态栏设置",order:800})}const vc=e=>(Xt("data-v-ed732ada"),e=e(),Qt(),e),yc=vc(()=>w("span",{class:"el-popper__empty"},null,-1)),gc=E({inheritAttrs:!1,__name:"status",setup(e){return(t,n)=>{const o=D("el-scrollbar"),s=D("el-tooltip");return d(),L(s,{placement:"top",effect:"light","popper-class":"k-status-tooltip"},{content:v(()=>[V(o,{"max-height":"calc(100vh - 4rem)"},{default:v(()=>[O(t.$slots,"tooltip",{},()=>[yc],!0)]),_:3})]),default:v(()=>[w("div",pe({class:"k-status"},t.$attrs),[O(t.$slots,"default",{},void 0,!0)],16)]),_:3})}}});const _c=Z(gc,[["__scopeId","data-v-ed732ada"]]),bc=E({__name:"loading",setup(e){const t=me(),n=A(()=>{const o=Object.values(t.$loader.extensions);return o.filter(s=>s.done.value).length/o.length});return(o,s)=>{const i=D("el-progress"),r=D("k-status");return n.value<1?(d(),L(r,{key:0},{default:v(()=>[V(i,{indeterminate:!c(Yt).entry,percentage:n.value*100},{default:v(()=>[N(" 正在加载页面组件 ")]),_:1},8,["indeterminate","percentage"])]),_:1})):U("v-if",!0)}}});function $c(e){e.slot({type:"status",component:_c,order:-1e3}),e.slot({type:"status-right",component:bc})}function kc(e){e.theme({id:"default-light",name:"Default Light"}),e.theme({id:"default-dark",name:"Default Dark"}),e.theme({id:"hc-light",name:"High Contrast Light"}),e.theme({id:"hc-dark",name:"High Contrast Dark"})}const wc=E({__name:"button",props:{data:{}},setup(e){const t=e,n=R(!1);function o(i){n.value=!0,i.dataTransfer.setData("text/plain","activity:"+t.data.id)}function s(i){n.value=!1}return(i,r)=>{const u=D("k-icon");return d(),L(Ze(i.data.id?"k-activity-link":"span"),{class:B(["activity-button",{dragging:n.value}]),draggable:"true",id:i.data.id,onDragstart:o,onDragend:s},{default:v(()=>[V(u,{class:"activity-button-icon",name:i.data.icon},null,8,["name"])]),_:1},40,["id","class"])}}});const Gt=Z(wc,[["__scopeId","data-v-b2f2e6e3"]]),Cc={class:"activity-info"},xc={class:"title"},Vc={key:0,class:"desc"},Sc={key:0,class:"activity-group"},st=E({__name:"item",props:{children:{},placement:{}},setup(e){const t=Pe(),n=e,o=A(()=>Object.values(n.children).some(g=>{var C,h;return((h=(C=t.meta)==null?void 0:C.activity)==null?void 0:h.id)===g.id})),s=R(!1),i=dt("theme.activity"),r=R(0);le(()=>n.children,()=>{r.value=0});function u(g){s.value=!0}function y(g){s.value=!1}const m=Be();function b(g){var l,a,f;s.value=!1;const C=g.dataTransfer.getData("text/plain");if(!C.startsWith("activity:"))return;const h=C.slice(9),k=n.children[0].id;if(k===h)return;g.preventDefault();const $=(a=(l=m.value).activities??(l.activities={}))[h]??(a[h]={});if($.parent===k){delete $.parent,((f=m.value.activities)[k]??(f[k]={})).parent=h;for(const p in m.value.activities){const x=m.value.activities[p];(x==null?void 0:x.parent)===k&&(x.parent=h)}}else $.parent=k}return(g,C)=>{const h=D("el-tooltip");return d(),_("div",{class:B(["activity-item",{active:o.value,"drag-over":s.value}]),onContextmenu:C[1]||(C[1]=fe(k=>c(i)(k,g.children[0]),["stop"])),onDragenter:u,onDragleave:y,onDrop:b,onDragover:C[2]||(C[2]=fe(()=>{},["prevent"]))},[V(h,{placement:"right","popper-class":"activity-item-tooltip"},{content:v(()=>[w("div",Cc,[w("div",xc,j(g.children[r.value].name),1),g.children[r.value].desc?(d(),_("div",Vc,j(g.children[r.value].desc),1)):U("v-if",!0)]),g.children.length>1?(d(),_("div",Sc,[(d(!0),_(z,null,H(g.children.slice(1),(k,$)=>(d(),_("div",{class:"activity-group-item",key:k.id},[V(Gt,{data:k,onMouseenter:l=>r.value=$+1,onMouseleave:C[0]||(C[0]=l=>r.value=0)},null,8,["data","onMouseenter"])]))),128))])):U("v-if",!0)]),default:v(()=>[V(Gt,{data:g.children[0],class:B({"is-group":g.children.length>1})},null,8,["data","class"])]),_:1})],34)}}});const Oc=E({__name:"separator",props:{index:{},position:{}},setup(e){const t=e,n=Ue("groups"),o=R(!1);function s(m){o.value=!0}function i(m){o.value=!1}const r=Be(),u=me();function y(m){var p,x,S,T,I,P,W,G;o.value=!1;const b=m.dataTransfer.getData("text/plain");if(!b.startsWith("activity:"))return;const g=b.slice(9),C=n.value[t.position].map(([q])=>q),h=C.findIndex(q=>q.id===g);if(h===t.index||h===t.index-1&&h!==-1)return;m.preventDefault();let k=t.index;const $=u.$router.pages[g];h<0||(h<k&&k--,C.splice(h,1)),C.splice(k,0,$);const l=(x=(p=r.value).activities??(p.activities={}))[g]??(x[g]={});delete l.parent,$.options.position!==t.position?l.position=t.position:delete l.position;const a=C.findLastIndex((q,X)=>X<k&&q.order===q.options.order),f=C.findIndex((q,X)=>X>k&&q.order===q.options.order);if(a===-1)if(f===-1)delete l.order;else{let q=C[f].options.order;for(let X=f-1;X>=0;X--){const K=(S=r.value.activities)[T=C[X].id]??(S[T]={});K.order=q+=100}}else if(f===-1){let q=C[a].options.order;for(let X=a+1;X<C.length;X++){const K=(I=r.value.activities)[P=C[X].id]??(I[P]={});K.order=q-=100}}else{let q=C[a].options.order,X=C[f].options.order;for(let K=a+1;K<f;K++){const ee=(W=r.value.activities)[G=C[K].id]??(W[G]={});ee.order=q+(X-q)*(K-a)/(f-a)}}Object.keys(l).length||delete r.value.activities[g]}return(m,b)=>(d(),_("div",{class:B(["separator",{"drag-over":o.value}]),onDragenter:s,onDragleave:i,onDrop:y,onDragover:b[0]||(b[0]=fe(()=>{},["prevent"]))},null,34))}});const Ke=Z(Oc,[["__scopeId","data-v-529cafc9"]]),Mc={key:1,class:"spacer"},Lc=E({__name:"index",setup(e){const t=me(),n=Be(),o=dt("theme.activity"),{height:s,width:i}=co(),r=A(()=>{var k;let u;const y=i.value<=768?52:56,m=s.value-(i.value<=768?4:8),b=Object.fromEntries(Object.entries(t.$router.pages).filter(([,$])=>!$.disabled()).map(([$,l])=>[$,[l]]));for(const $ of Object.keys(b)){const l=(k=n.value.activities)==null?void 0:k[$];if(!l)continue;if(l.hidden){delete b[$];continue}Object.assign(b[$][0],l);const a=b[l.parent];a&&(a.push(b[$][0]),delete b[$])}const g=Object.values(b).sort(([$],[l])=>$.order-l.order);g.length*y>m&&(u=g.splice(0,g.length+1-Math.floor(m/y)).sort(([$],[l])=>{const a=$.position==="top"?-1:1;return $.position===l.position?a*($.order-l.order):a}).flat(),u.unshift({icon:"activity:ellipsis"}));const C=g.filter(([$])=>$.position!=="bottom").reverse(),h=g.filter(([$])=>$.position==="bottom");return{top:C,bottom:h,hidden:u}});return en("groups",r),(u,y)=>(d(),_("nav",{class:"layout-activity flex flex-col justify-evenly",onContextmenu:y[0]||(y[0]=fe(m=>c(o)(m,null),["stop"]))},[(d(!0),_(z,null,H(r.value.top,(m,b)=>(d(),_(z,{key:m[0].id},[V(Ke,{position:"top",index:b},null,8,["index"]),V(st,{placement:"right",children:m},null,8,["children"])],64))),128)),V(Ke,{position:"top",index:r.value.top.length},null,8,["index"]),r.value.hidden?(d(),L(st,{key:0,placement:"bottom",children:r.value.hidden},null,8,["children"])):(d(),_("div",Mc)),V(Ke,{position:"bottom",index:r.value.top.length},null,8,["index"]),(d(!0),_(z,null,H(r.value.bottom,(m,b)=>(d(),_(z,{key:m.id},[V(st,{placement:"right",children:m},null,8,["children"]),V(Ke,{position:"bottom",index:b},null,8,["index"])],64))),128))],32))}});const Dc=Z(Lc,[["__scopeId","data-v-a101f417"]]);const Ic={},Ac={class:"layout-status"};function zc(e,t){const n=D("k-slot");return d(),_("footer",Ac,[w("div",null,[V(n,{name:"status-left"})]),w("div",null,[V(n,{name:"status-right"})])])}const jc=Z(Ic,[["render",zc]]),Nc={key:0,class:"k-menu-icon"},Tc=E({__name:"menu-item",props:{id:{},label:{},type:{},icon:{},order:{},prefix:{}},setup(e){const t=e,n=me(),o=A(()=>{let y=t.id.replace(/^!/,"");return y.startsWith(".")&&(y=t.prefix+y),n.internal.actions[y]}),s=A(()=>o.value?o.value.hidden?u(o.value.hidden):!1:!0),i=A(()=>o.value?o.value.disabled?u(o.value.disabled):!1:!0),r=A(()=>u(t.icon));function u(y){return typeof y!="function"?y:y(n.$action.createScope())}return(y,m)=>{const b=D("k-icon");return s.value?U("v-if",!0):(d(),_("div",{key:0,class:B(["k-menu-item",[u(y.type),{disabled:i.value}]]),onClick:m[0]||(m[0]=fe(g=>{var C;return(C=o.value)==null?void 0:C.action(c(n).$action.createScope())},["prevent"]))},[r.value?(d(),_("span",Nc,[V(b,{name:r.value},null,8,["name"])])):U("v-if",!0),N(" "+j(u(y.label)),1)],2))}}}),Ec={key:0,class:"k-menu-separator"},Bc=E({__name:"menu",props:{id:{},relative:{}},setup(e){const t=e,n=me(),o=R(),s=()=>{if(!o.value)return{visibility:"hidden"};const{height:i,width:r}=o.value.getBoundingClientRect(),u={};return t.relative.right+r>window.innerWidth?u.right=`${window.innerWidth-t.relative.left}px`:u.left=`${t.relative.right}px`,t.relative.bottom+i>window.innerHeight?u.bottom="0px":u.top=`${t.relative.bottom}px`,u};return(i,r)=>(d(),_("div",{ref_key:"el",ref:o,class:"k-menu",style:Xe(s())},[(d(!0),_(z,null,H(c(n).internal.menus[i.id],u=>(d(),_(z,null,[u.id==="@separator"?(d(),_("div",Ec)):(d(),L(Tc,on(pe({key:1},{prefix:i.id,...u})),null,16))],64))),256))],4))}}),Uc=E({__name:"index",setup(e){const t=me();return lt("click",()=>{t.internal.activeMenus.splice(0)}),lt("contextmenu",()=>{t.internal.activeMenus.splice(0)}),(n,o)=>(d(!0),_(z,null,H(c(t).internal.activeMenus,s=>(d(),L(Bc,on(pe({key:s.id},s)),null,16))),128))}}),Pc={key:1,class:"loading","element-loading-text":"正在加载数据……"},Fc=E({__name:"index",setup(e){const t=Pe(),n=A(()=>{var o;return(o=t.meta.activity)!=null&&o.fields?t.meta.activity.fields.every(s=>Yt[s]):!0});return(o,s)=>{const i=D("router-view"),r=io("loading");return d(),_(z,null,[V(Dc),n.value?(d(),L(i,{key:0},{default:v(({Component:u})=>[(d(),L(Zt,null,[(d(),L(Ze(u)))],1024))]),_:1})):Ae((d(),_("div",Pc,null,512)),[[r,!0]]),V(jc),V(Uc)],64)}}});function Hc(e){e.slot({type:"root",component:Fc,order:-1e3});const t=Be();e.action("theme.activity.settings",{action:()=>Yn.push("/settings/activity")}),e.action("theme.activity.reset",{action:()=>t.value.activities={}}),e.menu("theme.activity",[{id:".reset",label:"重置活动栏"}])}ke.plugin($o);ke.plugin(Mo);ke.plugin(hc);ke.plugin($c);ke.plugin(kc);ke.plugin(Hc);ke.start();if(!Lt.static){const e=new URL(Lt.endpoint,location.origin).toString();Zn(ke,()=>new WebSocket(e.replace(/^http/,"ws")))}
