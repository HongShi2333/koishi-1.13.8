import{computed as le,defineComponent as Se,openBlock as N,createElementBlock as Y,createElementVNode as M,toDisplayString as H,withModifiers as Ie,unref as D,createVNode as V,createCommentVNode as ue,ref as J,watch as ye,resolveComponent as E,createBlock as T,withCtx as q,Fragment as _e,renderList as Be,normalizeClass as Ve,KeepAlive as Re}from"../vue.js";import{useStorage as Ue,receive as de,send as W,useMenu as Pe,MessageContent as be,useContext as Ee,Schema as xe,clone as ke,deepEqual as qe,VirtualList as We,ChatInput as Ye,message as Ge,icons as Ke}from"../client.js";var He=Object.defineProperty,h=(e,t)=>He(e,"name",{value:t,configurable:true});function Ze(){}h(Ze,"noop");function I(e){return e==null}h(I,"isNullable");function Je(e){return e&&typeof e=="object"&&!Array.isArray(e)}h(Je,"isPlainObject");function Te(e,t){return Object.fromEntries(Object.entries(e).filter(([a,l])=>t(a,l)))}h(Te,"filterKeys");function $e(e,t){return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,t(l,a)]))}h($e,"mapValues");function R(e,t){return arguments.length===1?a=>R(e,a):e in globalThis&&t instanceof globalThis[e]||Object.prototype.toString.call(t).slice(8,-1)===e}h(R,"is");function ce(e){return!e||typeof e!="object"?e:Array.isArray(e)?e.map(ce):R("Date",e)?new Date(e.valueOf()):R("RegExp",e)?new RegExp(e.source,e.flags):$e(e,ce)}h(ce,"clone");function fe(e,t,a){if(e===t||!a&&I(e)&&I(t))return true;if(typeof e!=typeof t||typeof e!="object"||!e||!t)return false;function l(p,$){return p(e)?p(t)?$(e,t):false:p(t)?false:void 0}return h(l,"check"),l(Array.isArray,(p,$)=>p.length===$.length&&p.every((F,i)=>fe(F,$[i])))??l(R("Date"),(p,$)=>p.valueOf()===$.valueOf())??l(R("RegExp"),(p,$)=>p.source===$.source&&p.flags===$.flags)??Object.keys({...e,...t}).every(p=>fe(e[p],t[p],a))}h(fe,"deepEqual");function Qe(e,t,a){if(!t)return{...e};const l={};for(const p of t)(a||e[p]!==void 0)&&(l[p]=e[p]);return l}h(Qe,"pick");function Xe(e,t){if(!t)return{...e};const a={...e};for(const l of t)Reflect.deleteProperty(a,l);return a}h(Xe,"omit");function pe(e,t,a){return Object.defineProperty(e,t,{writable:true,value:a,enumerable:false})}h(pe,"defineProperty");function et(e,t){return t.every(a=>e.includes(a))}h(et,"contain");function tt(e,t){return e.filter(a=>t.includes(a))}h(tt,"intersection");function nt(e,t){return e.filter(a=>!t.includes(a))}h(nt,"difference");function rt(e,t){return Array.from(new Set([...e,...t]))}h(rt,"union");function at(e){return[...new Set(e)]}h(at,"deduplicate");function st(e,t){const a=e.indexOf(t);return a>=0?(e.splice(a,1),true):false}h(st,"remove");function Ae(e){return Array.isArray(e)?e:I(e)?[]:[e]}h(Ae,"makeArray");function je(e){if(typeof Buffer<"u")return Buffer.from(e).toString("base64");let t="";const a=new Uint8Array(e);for(let l=0;l<a.byteLength;l++)t+=String.fromCharCode(a[l]);return btoa(t)}h(je,"arrayBufferToBase64");function ot(e){if(typeof Buffer<"u"){const l=Buffer.from(e,"base64");return new Uint8Array(l.buffer,l.byteOffset,l.length)}const t=atob(e.replace(/\s/g,"")),a=new Uint8Array(t.length);for(let l=0;l<t.length;l++)a[l]=t.charCodeAt(l);return a}h(ot,"base64ToArrayBuffer");function it(e){return e.charAt(0).toUpperCase()+e.slice(1)}h(it,"capitalize");function ge(e){return e.charAt(0).toLowerCase()+e.slice(1)}h(ge,"uncapitalize");function De(e){return e.replace(/[_-][a-z]/g,t=>t.slice(1).toUpperCase())}h(De,"camelCase");function Me(e){return ge(e).replace(/_/g,"-").replace(/.[A-Z]+/g,t=>t[0]+"-"+t.slice(1).toLowerCase())}h(Me,"paramCase");function lt(e){return ge(e).replace(/-/g,"_").replace(/.[A-Z]+/g,t=>t[0]+"_"+t.slice(1).toLowerCase())}h(lt,"snakeCase");var ut=De,ct=Me;function ze(e){return e.replace(/\/$/,"")}h(ze,"trimSlash");function ft(e){return e.startsWith("/")||(e="/"+e),ze(e)}h(ft,"sanitize");var we;(e=>{e.millisecond=1,e.second=1e3,e.minute=e.second*60,e.hour=e.minute*60,e.day=e.hour*24,e.week=e.day*7;let t=new Date().getTimezoneOffset();function a(u){t=u}e.setTimezoneOffset=a,h(a,"setTimezoneOffset");function l(){return t}e.getTimezoneOffset=l,h(l,"getTimezoneOffset");function p(u=new Date,c){return typeof u=="number"&&(u=new Date(u)),c===void 0&&(c=t),Math.floor((u.valueOf()/e.minute-c)/1440)}e.getDateNumber=p,h(p,"getDateNumber");function $(u,c){const f=new Date(u*e.day);return c===void 0&&(c=t),new Date(+f+c*e.minute)}e.fromDateNumber=$,h($,"fromDateNumber");const F=/\d+(?:\.\d+)?/.source,i=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(u=>`(${F}${u})?`).join("")}$`);function m(u){const c=i.exec(u);return c?(parseFloat(c[1])*e.week||0)+(parseFloat(c[2])*e.day||0)+(parseFloat(c[3])*e.hour||0)+(parseFloat(c[4])*e.minute||0)+(parseFloat(c[5])*e.second||0):0}e.parseTime=m,h(m,"parseTime");function b(u){const c=m(u);return c?u=Date.now()+c:/^\d{1,2}(:\d{1,2}){1,2}$/.test(u)?u=`${new Date().toLocaleDateString()}-${u}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(u)&&(u=`${new Date().getFullYear()}-${u}`),u?new Date(u):new Date}e.parseDate=b,h(b,"parseDate");function S(u){const c=Math.abs(u);return c>=e.day-e.hour/2?Math.round(u/e.day)+"d":c>=e.hour-e.minute/2?Math.round(u/e.hour)+"h":c>=e.minute-e.second/2?Math.round(u/e.minute)+"m":c>=e.second?Math.round(u/e.second)+"s":u+"ms"}e.format=S,h(S,"format");function y(u,c=2){return u.toString().padStart(c,"0")}e.toDigits=y,h(y,"toDigits");function j(u,c=new Date){return u.replace("yyyy",c.getFullYear().toString()).replace("yy",c.getFullYear().toString().slice(2)).replace("MM",y(c.getMonth()+1)).replace("dd",y(c.getDate())).replace("hh",y(c.getHours())).replace("mm",y(c.getMinutes())).replace("ss",y(c.getSeconds())).replace("SSS",y(c.getMilliseconds(),3))}e.template=j,h(j,"template")})(we||(we={}));var pt=Object.defineProperty,dt=Object.getOwnPropertyNames,_=(e,t)=>pt(e,"name",{value:t,configurable:true}),gt=(e,t)=>function(){return t||(0,e[dt(e)[0]])((t={exports:{}}).exports,t),t.exports},ht=gt({"satori/packages/element/src/index.ts"(e,t){var F;var a=Symbol.for("satori.element"),l=(F=class{get data(){return this.attrs}getTagName(){var m;return this.type==="component"?((m=this.attrs.is)==null?void 0:m.name)??"component":this.type}toAttrString(){return Object.entries(this.attrs).map(([m,b])=>I(b)?"":(m=ct(m),b===true?` ${m}`:b===false?` no-${m}`:` ${m}="${p.escape(""+b,true)}"`)).join("")}toString(m=false){if(this.type==="text"&&"content"in this.attrs)return m?this.attrs.content:p.escape(this.attrs.content);const b=this.children.map(j=>j.toString(m)).join("");if(m)return b;const S=this.toAttrString(),y=this.getTagName();return this.children.length?`<${y}${S}>${b}</${y}>`:`<${y}${S}/>`}},_(F,"ElementConstructor"),F);pe(l,"name","Element"),pe(l.prototype,a,true);function p(i,...m){const b=Object.create(l.prototype),S={},y=[];if(m[0]&&typeof m[0]=="object"&&!p.isElement(m[0])&&!Array.isArray(m[0])){const j=m.shift();for(const[u,c]of Object.entries(j))I(c)||(u==="children"?m.push(...Ae(c)):S[ut(u)]=c)}for(const j of m)y.push(...p.toElementArray(j));return typeof i=="function"&&(S.is=i,i="component"),Object.assign(b,{type:i,attrs:S,children:y})}_(p,"Element");var $=new Function("expr","context",`
  try {
    with (context) {
      return eval(expr)
    }
  } catch {}
`);(i=>{i.jsx=i,i.jsxs=i,i.jsxDEV=i,i.Fragment="template";function m(n){return n&&typeof n=="object"&&n[a]}i.isElement=m,_(m,"isElement");function b(n){if(typeof n=="string"||typeof n=="number"||typeof n=="boolean"){if(n=""+n,n)return i("text",{content:n})}else{if(m(n))return n;if(!I(n))throw new TypeError(`Invalid content: ${n}`)}}i.toElement=b,_(b,"toElement");function S(n){return Array.isArray(n)?n.map(b).filter(r=>r):[b(n)].filter(r=>r)}i.toElementArray=S,_(S,"toElementArray");function y(n,r){return typeof n=="string"?C(n,r):S(n)}i.normalize=y,_(y,"normalize");function j(n,r=false){const s=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return r?s.replace(/"/g,"&quot;"):s}i.escape=j,_(j,"escape");function u(n){return n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#(\d+);/g,(r,s)=>s==="38"?r:String.fromCharCode(+s)).replace(/&#x([0-9a-f]+);/gi,(r,s)=>s==="26"?r:String.fromCharCode(parseInt(s,16))).replace(/&(amp|#38|#x26);/g,"&")}i.unescape=u,_(u,"unescape");function c(n,r={}){var o;const s=C(n);return r.caret?r.type&&((o=s[0])==null?void 0:o.type)!==r.type?void 0:s[0]:z(s,r.type||"*")[0]}i.from=c,_(c,"from");const f=/ *([ >+~]) */g;function w(n){return n.split(",").map(r=>{const s=[];r=r.trim();let o,v=" ";for(;o=f.exec(r);)s.push({type:r.slice(0,o.index),combinator:v}),v=o[1],r=r.slice(o.index+o[0].length);return s.push({type:r,combinator:v}),s})}i.parseSelector=w,_(w,"parseSelector");function z(n,r){if(!n||!r)return[];if(typeof n=="string"&&(n=C(n)),typeof r=="string"&&(r=w(r)),!r.length)return[];let s=[];const o=[];for(const[v,d]of n.entries()){const x=[],A=[...r,...s];s=[];let O=false;for(const k of A){const{type:B,combinator:ie}=k[0];(B===d.type||B==="*")&&(k.length===1?O=true:[" ",">"].includes(k[1].combinator)?x.push(k.slice(1)):k[1].combinator==="+"?s.push(k.slice(1)):r.push(k.slice(1))),ie===" "&&x.push(k)}O&&o.push(n[v]),o.push(...z(d.children,x))}return o}i.select=z,_(z,"select");function L(n,r){if(n=n.trim(),!/^[\w.]+$/.test(n))return $(n,r)??"";let s=r;for(const o of n.split("."))if(s=s[o],I(s))return"";return s??""}i.interpolate=L,_(L,"interpolate");const ee=/(?<comment><!--[\s\S]*?-->)|(?<tag><(\/?)([^!\s>/]*)([^>]*?)\s*(\/?)>)/,te=/(?<comment><!--[\s\S]*?-->)|(?<tag><(\/?)([^!\s>/]*)([^>]*?)\s*(\/?)>)|(?<curly>\{(?<derivative>[@:/#][^\s}]*)?[\s\S]*?\})/,ne=/([^\s=]+)(?:="(?<value1>[^"]*)"|='(?<value2>[^']*)')?/g,re=/([^\s=]+)(?:="(?<value1>[^"]*)"|='(?<value2>[^']*)'|=(?<curly>\{([^}]+)\}))?/g;let Q;(n=>{n[n.OPEN=0]="OPEN",n[n.CLOSE=1]="CLOSE",n[n.EMPTY=2]="EMPTY",n[n.CONTINUE=3]="CONTINUE"})(Q||(Q={}));function C(n,r){const s=[];function o(O){O&&s.push(O)}_(o,"pushText");const v=r?te:ee;let d,x=true;for(;d=v.exec(n);){const O=!d.groups.curly;A(n.slice(0,d.index),x,O),x=O,n=n.slice(d.index+d[0].length);const[k,,,B,ie,Fe,Le]=d;if(!d.groups.comment){if(d.groups.curly){let me="",ve=2;d.groups.derivative&&(me=d.groups.derivative.slice(1),ve={"@":2,"#":0,"/":1,":":3}[d.groups.derivative[0]]),s.push({type:"curly",name:me,position:ve,source:d.groups.curly,extra:d.groups.curly.slice(1+(d.groups.derivative??"").length,-1)});continue}s.push({type:"angle",source:k,name:ie||i.Fragment,position:B?1:Le?2:0,extra:Fe})}}A(n,x,true);function A(O,k,B){O=u(O),k&&(O=O.replace(/^\s*\n\s*/,"")),B&&(O=O.replace(/\s*\n\s*$/,"")),o(O)}return _(A,"parseContent"),P(U(s),r)}i.parse=C,_(C,"parse");function U(n){const r=[[{type:"angle",name:i.Fragment,position:0,source:"",extra:"",children:{default:[]}},"default"]];function s(...o){const[v,d]=r[0];v.children[d].push(...o)}_(s,"pushToken");for(const o of n){if(typeof o=="string"){s(o);continue}const{name:v,position:d}=o;d===1?r[0][0].name===v&&r.shift():d===3?(r[0][0].children[v]=[],r[0][1]=v):d===0?(s(o),o.children={default:[]},r.unshift([o,"default"])):s(o)}return r[r.length-1][0].children.default}_(U,"foldTokens");function P(n,r){const s=[];for(const o of n)if(typeof o=="string")s.push(i("text",{content:o}));else if(o.type==="angle"){const v={},d=r?re:ne;let x;for(;x=d.exec(o.extra);){const[,A,O,k=O,B]=x;B?v[A]=L(B,r):I(k)?A.startsWith("no-")?v[A.slice(3)]=false:v[A]=true:v[A]=u(k)}s.push(i(o.name,v,o.children&&P(o.children.default,r)))}else if(!o.name)s.push(...S(L(o.extra,r)));else if(o.name==="if")$(o.extra,r)?s.push(...P(o.children.default,r)):s.push(...P(o.children.else||[],r));else if(o.name==="each"){const[v,d]=o.extra.split(/\s+as\s+/),x=L(v,r);if(!x||!x[Symbol.iterator])continue;for(const A of x)s.push(...P(o.children.default,{...r,[d]:A}))}return s}_(P,"parseTokens");function ae(n,r,s){const{type:o,attrs:v,children:d}=n;if(typeof r=="function")return r(n,s);{let x=r[typeof o=="string"?o:""]??r.default??true;return typeof x=="function"&&(x=x(v,d,s)),x}}_(ae,"visit");function se(n,r,s){const o=typeof n=="string"?C(n):n,v=[];return o.forEach(d=>{const{type:x,attrs:A,children:O}=d,k=ae(d,r,s);k===true?v.push(i(x,A,se(O,r,s))):k!==false&&v.push(...S(k))}),typeof n=="string"?v.join(""):v}i.transform=se,_(se,"transform");async function oe(n,r,s){const o=typeof n=="string"?C(n):n,v=(await Promise.all(o.map(async d=>{const{type:x,attrs:A,children:O}=d,k=await ae(d,r,s);return k===true?[i(x,A,await oe(O,r,s))]:k!==false?S(k):[]}))).flat(1);return typeof n=="string"?v.join(""):v}i.transformAsync=oe,_(oe,"transformAsync");function Z(n,...r){return(...s)=>{const o=i(n);return r.forEach((v,d)=>{I(s[d])||(o.attrs[v]=s[d])}),s[r.length]&&Object.assign(o.attrs,s[r.length]),o}}_(Z,"createFactory"),i.warn=_(()=>{},"warn");function G(n){return(r,...s)=>{let o="base64://";return typeof s[0]=="string"&&(o=`data:${s.shift()};base64,`),R("Buffer",r)?r=o+r.toString("base64"):R("ArrayBuffer",r)&&(r=o+je(r)),r.startsWith("base64://")&&(0,i.warn)('protocol "base64:" is deprecated and will be removed in the future, please use "data:" instead'),i(n,{...s[0],src:r})}}_(G,"createAssetFactory"),i.text=Z("text","content"),i.at=Z("at","id"),i.sharp=Z("sharp","id"),i.quote=Z("quote","id"),i.image=G("img"),i.img=G("img"),i.video=G("video"),i.audio=G("audio"),i.file=G("file");function he(n,r){return i("i18n",typeof n=="string"?{path:n}:n,r)}i.i18n=he,_(he,"i18n")})(p||(p={})),t.exports=p}});const Ce=ht(),mt={private:"\u79C1\u804A\u6A21\u5F0F",guild:"\u7FA4\u804A\u6A21\u5F0F",profile:"\u7528\u6237\u8BBE\u7F6E"},g=Ue("sandbox",1.1,()=>({platform:"sandbox:"+Math.random().toString(36).slice(2),user:"",index:0,messages:{},panelType:"private"})),K=le(()=>g.value.panelType==="guild"?"#":"@"+g.value.user);de("sandbox/message",e=>{var t,a;e.platform===g.value.platform&&((t=g.value.messages)[a=e.channel]||(t[a]=[])).push(e)});de("sandbox/clear",()=>{g.value.messages[K.value]=[]});const X={deleteMessage({messageId:e,channelId:t}){const a=g.value.messages[t];a&&(g.value.messages[t]=a.filter(l=>l.id!==e))},getMessage({messageId:e,channelId:t}){var a;return(a=g.value.messages[t])==null?void 0:a.find(l=>l.id===e)},getChannel({channelId:e,guildId:t}){return{channelId:"#"}},getChannelList({guildId:e}){return{data:{channelId:"#"}}},getGuild({guildId:e}){return{guildId:"#"}},getGuildList(){return{data:{guildId:"#"}}},getGuildMember({guildId:e,userId:t}){return{userId:t,username:t}},getGuildMemberList({guildId:e}){return{data:Object.keys(g.value.messages).filter(a=>a.startsWith("@")).map(a=>{const l=a.slice(1);return{userId:l,username:l}})}}};de("sandbox/request",({method:e,nonce:t,data:a})=>{var p;const l=(p=X[e])==null?void 0:p.call(X,a);W("sandbox/response",t,l)});const vt=["Alice","Bob","Carol","Dave","Eve","Frank","Grace","Hank","Ivy","Jack","Kathy","Lily","Mandy","Nancy","Oscar","Peggy","Quinn","Randy","Sandy","Toby","Uma","Vicky","Wendy","Xander","Yvonne","Zoe"],yt={class:"chat-message"},_t={class:"avatar"},bt={class:"nickname"},xt={key:0,class:"quote"},kt={class:"abstract"},wt=Se({__name:"message",props:{data:{}},setup(e){const t=Pe("sandbox.message");return(a,l)=>(N(),Y("div",yt,[M("div",_t,H(a.data.user[0]),1),M("div",bt,H(a.data.user),1),M("div",{class:"message-box",onContextmenu:l[0]||(l[0]=Ie(p=>D(t)(p,a.data),["stop"]))},[a.data.quote?(N(),Y("blockquote",xt,[M("span",kt,[V(D(be),{content:a.data.quote.content},null,8,["content"])])])):ue("v-if",true),V(D(be),{content:a.data.content},null,8,["content"])],32)]))}});const Ne=(e,t)=>{const a=e.__vccOpts||e;for(const[l,p]of t)a[l]=p;return a},Ct=Ne(wt,[["__scopeId","data-v-70b0e88c"]]),Ot={class:"user-container"},St={class:"avatar"},$t={class:"nick"},At=["onClick"],jt={class:"card-header"},Dt=["onClick"],Mt=M("div",null,"\u70B9\u51FB\u300C\u6DFB\u52A0\u7528\u6237\u300D\u5F00\u59CB\u4F53\u9A8C",-1),zt={class:"card-footer"},Nt={key:0,class:"quote"},Ft={class:"left"},Oe=10,Lt=Se({__name:"layout",setup(e){const t=Ee();t.action("sandbox.message.delete",{action:({sandbox:f})=>c(f.message)}),t.action("sandbox.message.quote",{action:({sandbox:f})=>b.value=f.message});const a=xe.object({authority:xe.natural().description("\u6743\u9650\u7B49\u7EA7")}),l=le(()=>Object.keys(g.value.messages).filter(f=>f.startsWith("@")).map(f=>f.slice(1))),p=le(()=>Object.fromEntries(l.value.map(f=>[f,{name:f}])));function $(){if(l.value.length>=Oe)return Ge.error("\u53EF\u521B\u5EFA\u7684\u7528\u6237\u6570\u91CF\u5DF2\u8FBE\u4E0A\u9650\u3002");let f;do f=vt[g.value.index++],g.value.index%=Oe;while(l.value.includes(f));g.value.user=f,g.value.messages["@"+f]=[],W("sandbox/set-user",g.value.platform,g.value.user,{})}function F(f){const w=l.value.indexOf(f);delete g.value.messages["@"+f],W("sandbox/set-user",g.value.platform,g.value.user,null),g.value.user===f&&(g.value.user=l.value[w]||"")}const i=J(""),m=J(0),b=J();function S(f){if(f.key==="ArrowUp"){const w=g.value.messages[K.value].filter(L=>L.user===g.value.user);let z=w.length-m.value;w[z-1]&&(m.value++,i.value=Ce.unescape(w[z-1].content))}else if(f.key==="ArrowDown"){const w=g.value.messages[K.value].filter(L=>L.user===g.value.user);let z=w.length-m.value;w[z+1]?(m.value--,i.value=Ce.unescape(w[z+1].content)):m.value&&(m.value=0,i.value="")}}const y=J(),j=J();ye(()=>g.value.user,async f=>{f&&(y.value=await W("sandbox/get-user",g.value.platform,g.value.user),j.value=ke(y.value))},{immediate:true}),ye(j,async f=>{qe(f,y.value)||(await W("sandbox/set-user",g.value.platform,g.value.user,f),y.value=ke(f))},{deep:true});function u(f){m.value=0,W("sandbox/send-message",g.value.platform,g.value.user,K.value,f,b.value),b.value=null}async function c(f){await W("sandbox/delete-message",f.platform,f.user,f.channel,f.id),X.deleteMessage({messageId:f.id,channelId:f.channel})}return(f,w)=>{const z=E("k-icon"),L=E("k-tab-group"),ee=E("el-scrollbar"),te=E("k-empty"),ne=E("k-form"),re=E("k-content"),Q=E("k-layout");return N(),T(Q,{class:"page-sandbox"},{left:q(()=>[M("div",{class:"card-header k-tab-menu-item",onClick:$},"\u6DFB\u52A0\u7528\u6237"),M("div",Ot,[V(ee,null,{default:q(()=>[V(L,{data:p.value,modelValue:D(g).user,"onUpdate:modelValue":w[0]||(w[0]=C=>D(g).user=C)},{default:q(({name:C})=>[M("div",St,H(C[0]),1),M("div",$t,H(C),1),M("div",{class:"close",onClick:U=>F(C)},[V(z,{name:"times-full"})],8,At)]),_:1},8,["data","modelValue"])]),_:1})])]),default:q(()=>[M("div",jt,[(N(true),Y(_e,null,Be(D(mt),(C,U)=>(N(),Y("span",{key:U,class:Ve(["k-horizontal-tab-item",{active:D(g).panelType===U}]),onClick:P=>D(g).panelType=U},H(C),11,Dt))),128))]),(N(),T(Re,null,[l.value.length?D(g).panelType==="profile"?(N(),T(re,{key:"profile"+D(K)},{default:q(()=>[y.value?(N(),T(ne,{key:0,initial:y.value,modelValue:j.value,"onUpdate:modelValue":w[1]||(w[1]=C=>j.value=C),schema:D(a),"show-header":false},null,8,["initial","modelValue","schema"])):ue("v-if",true)]),_:1})):(N(),Y(_e,{key:2},[V(D(We),{data:D(g).messages[D(K)]||[],pinned:""},{default:q(C=>[V(Ct,{data:C},null,8,["data"])]),_:1},8,["data"]),M("div",zt,[b.value?(N(),Y("div",Nt,[M("span",Ft,"\u6B63\u5728\u56DE\u590D @"+H(b.value.user),1),V(z,{name:"times-full",onClick:w[2]||(w[2]=C=>b.value=null)})])):ue("v-if",true),V(D(Ye),{modelValue:i.value,"onUpdate:modelValue":w[3]||(w[3]=C=>i.value=C),onSend:u,onKeydown:S,placeholder:"\u53D1\u9001\u6D88\u606F\u5230\u6C99\u76D2"},null,8,["modelValue"])])],64)):(N(),T(te,{key:"empty"},{default:q(()=>[Mt]),_:1}))],1024))]),_:1})}}});const It={},Bt={class:"k-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Vt=M("path",{fill:"currentColor",d:"M437.2 403.5L319.1 215l.0001-135C319.1 71.16 312.8 64 303.1 64S288 71.16 288 79.1L287.1 215c0 5.973 1.672 11.83 4.826 16.9L347.6 320H100.4l54.79-88.1C158.3 226.8 160 220.1 160 215L160 79.1C160 71.16 152.8 64 144 64S128 71.16 128 79.1L128 215l-117.2 188.5C-18.48 450.6 15.27 512 70.89 512h306.2C432.7 512 466.5 450.5 437.2 403.5zM410.9 460C407.6 466 397.6 480 377.1 480H70.89c-20.51 0-30.48-13.95-33.82-19.95c-7.025-12.63-6.691-27.46 .873-39.65L80.48 352h287l42.55 68.41C417.6 432.6 417.1 447.4 410.9 460zM112 32h224C344.8 32 352 24.84 352 16S344.8 0 336 0h-224C103.2 0 96 7.156 96 16S103.2 32 112 32z"},null,-1),Rt=[Vt];function Ut(e,t){return N(),Y("svg",Bt,Rt)}const Pt=Ne(It,[["render",Ut]]);Ke.register("activity:flask",Pt);const Wt=e=>{e.page({name:"\u6C99\u76D2",path:"/sandbox",icon:"activity:flask",order:300,authority:4,component:Lt}),e.menu("sandbox.message",[{id:".delete",label:"\u5220\u9664\u6D88\u606F"},{id:".quote",label:"\u5F15\u7528\u56DE\u590D"}])};export{Wt as default};
