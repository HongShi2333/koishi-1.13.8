var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

// src/adapter/node.ts
import { fileURLToPath } from "node:url";
import { basename } from "node:path";
import { fromBuffer } from "file-type";
import { readFile } from "node:fs/promises";
import { lookup } from "node:dns/promises";
async function loadFile(url) {
  if (url.startsWith("file://")) {
    const data = await readFile(fileURLToPath(url));
    const result = await fromBuffer(data);
    return { mime: result?.mime, filename: basename(url), data };
  }
}
__name(loadFile, "loadFile");
export {
  loadFile,
  lookup
};
